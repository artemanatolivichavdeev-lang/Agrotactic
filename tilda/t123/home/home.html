<!-- tilda/t123/home/home.html — v0.1 (2026-02-17)
     Paste into: Other → T123 "Embed HTML Code"
     After change: Publish the page
     ANCHORS: replace #recFORM / #recCONTACTS with real Tilda recIDs -->
<style>
  /* === TOKENS (Mission Control v0.2) === */
  .x-site {
    --x-bg: #0b1120;
    --x-surface: #131b2e;
    --x-surface-2: #1e293b;
    --x-text: #e2e8f0;
    --x-muted: #94a3b8;
    --x-line: #334155;
    /* Lighter line for tech feel */
    --x-accent: #00e5ff;
    /* Safety Cyan */
    --x-accent-2: #ff6b35;
    /* Safety Orange */
    --x-accent-alpha: rgba(0, 229, 255, 0.15);

    --x-ff-head: 'Inter', system-ui, sans-serif;
    --x-ff-body: 'Inter', system-ui, sans-serif;
    --x-ff-mono: 'JetBrains Mono', monospace;

    --x-fs-1: clamp(1.8rem, 3.5vw, 2.75rem);
    --x-fs-2: clamp(1.75rem, 3.5vw, 2.25rem);
    --x-fs-3: 1.25rem;
    --x-fs-4: 1rem;
    --x-fs-5: 0.875rem;
    --x-fs-6: 0.75rem;

    --x-lh-tight: 1.1;
    --x-lh-base: 1.5;

    --x-sp-1: 4px;
    --x-sp-2: 8px;
    --x-sp-3: 12px;
    --x-sp-4: 16px;
    --x-sp-5: 24px;
    --x-sp-6: 32px;
    --x-sp-7: 48px;
    --x-sp-8: 64px;
    --x-sp-9: 96px;

    --x-r-1: 0px;
    /* Sharp technical corners */
    --x-r-2: 2px;
    --x-r-3: 4px;

    --x-container: 1200px;
    --x-container-wide: 1320px;

    box-sizing: border-box;
    font-family: var(--x-ff-body);
    color: var(--x-text);
    background: var(--x-bg);
    line-height: var(--x-lh-base);
    -webkit-font-smoothing: antialiased;
  }

  .x-site *,
  .x-site *::before,
  .x-site *::after {
    box-sizing: inherit;
    margin: 0;
    padding: 0;
  }

  .x-site img {
    max-width: 100%;
    display: block;
  }

  .x-site a {
    color: var(--x-accent);
    text-decoration: none;
    transition: opacity .2s;
  }

  .x-site a:hover {
    opacity: 0.8;
    text-decoration: none;
  }

  /* === LAYOUT & UTILS === */
  .x-site .x-wrap {
    max-width: var(--x-container);
    margin: 0 auto;
    padding: 0 var(--x-sp-5);
    position: relative;
    z-index: 2;
  }

  .x-site .x-section {
    padding: var(--x-sp-9) 0;
    border-bottom: 1px solid var(--x-line);
    position: relative;
  }

  /* Technical grid background for sections */
  .x-site .x-section::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 1;
  }

  .x-site .x-section__head {
    margin-bottom: var(--x-sp-7);
    position: relative;
    z-index: 2;
  }

  .x-site .x-section__label {
    font-family: var(--x-ff-mono);
    font-size: var(--x-fs-6);
    color: var(--x-accent);
    text-transform: uppercase;
    letter-spacing: 0.15em;
    margin-bottom: var(--x-sp-2);
    display: inline-block;
    padding: 2px 6px;
    background: rgba(0, 229, 255, 0.1);
    border: 1px solid rgba(0, 229, 255, 0.2);
  }

  .x-site .x-h2 {
    font-family: var(--x-ff-head);
    font-size: var(--x-fs-2);
    font-weight: 700;
    letter-spacing: -0.02em;
    color: var(--x-text);
    margin-bottom: var(--x-sp-4);
  }

  .x-site .x-lead {
    font-size: var(--x-fs-4);
    color: var(--x-muted);
    max-width: 760px;
    line-height: 1.6;
  }

  /* === BUTTONS === */
  .x-site .x-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--x-sp-2);
    font-family: var(--x-ff-mono);
    /* Technical font for actions */
    font-size: var(--x-fs-5);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding: var(--x-sp-3) var(--x-sp-5);
    border-radius: var(--x-r-2);
    border: 1px solid transparent;
    cursor: pointer;
    transition: all .2s;
    text-decoration: none;
    position: relative;
    overflow: hidden;
  }

  .x-site .x-btn:focus-visible {
    outline: 2px solid var(--x-accent);
    outline-offset: 4px;
  }

  .x-site .x-btn--primary {
    background: var(--x-accent);
    color: #000;
    /* High contrast on Cyan */
    border-color: var(--x-accent);
  }

  .x-site .x-btn--primary:hover {
    background: #fff;
    border-color: #fff;
    box-shadow: 0 0 15px var(--x-accent);
  }

  .x-site .x-btn--secondary {
    background: transparent;
    color: var(--x-accent);
    border-color: var(--x-accent);
  }

  .x-site .x-btn--secondary:hover {
    background: var(--x-accent-alpha);
    box-shadow: 0 0 10px var(--x-accent-alpha);
  }

  .x-site .x-btn--tertiary {
    background: transparent;
    color: var(--x-muted);
    border: 1px solid transparent;
    padding: var(--x-sp-2) 0;
    font-size: var(--x-fs-6);
  }

  .x-site .x-btn--tertiary:hover {
    color: var(--x-accent);
    text-decoration: none;
  }

  /* Special Demo Button (Yellow/Red -> Cyan/Black) */
  .x-site .x-btn--demo {
    background: #facc15;
    color: #b91c1c;
    border-color: #facc15;
  }

  .x-site .x-btn--demo:hover {
    background: #fff;
    color: #000;
    border-color: #fff;
    box-shadow: 0 0 15px var(--x-accent);
  }

  /* === HEADER === */
  .x-site .x-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
    background: rgba(11, 17, 32, 0.9);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--x-line);
    height: 80px;
    transition: all 0.3s;
  }

  .x-site .x-header--sticky {
    height: 60px;
    background: rgba(11, 17, 32, 0.98);
  }

  .x-site .x-header__inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 100%;
    max-width: var(--x-container-wide);
    margin: 0 auto;
    padding: 0 var(--x-sp-5);
  }

  .x-site .x-logo {
    font-family: var(--x-ff-head);
    font-size: 1.25rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--x-text);
  }

  .x-site .x-logo span {
    color: var(--x-accent);
  }

  .x-site .x-nav {
    display: flex;
    gap: var(--x-sp-6);
    list-style: none;
  }

  .x-site .x-nav__item {
    font-family: var(--x-ff-mono);
    font-size: var(--x-fs-6);
    text-transform: uppercase;
    color: var(--x-muted);
    letter-spacing: 0.05em;
    font-weight: 700;
  }

  .x-site .x-nav__item:hover {
    color: var(--x-accent);
  }

  .x-site .x-burger {
    display: none;
    background: none;
    border: none;
    color: var(--x-text);
    font-size: 1.5rem;
    cursor: pointer;
  }

  @media(max-width:900px) {
    .x-site .x-nav {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      flex-direction: column;
      background: var(--x-bg);
      border-bottom: 1px solid var(--x-line);
      padding: var(--x-sp-5);
      gap: var(--x-sp-4);
    }

    .x-site .x-header--menu-open .x-nav {
      display: flex;
    }

    .x-site .x-burger {
      display: block;
    }

    .x-site .x-header .x-btn {
      display: none;
    }
  }

  /* === HERO === */
  .x-site .x-hero {
    padding-top: 140px;
    padding-bottom: var(--x-sp-8);
    background: radial-gradient(circle at 50% 30%, rgba(0, 229, 255, 0.05), transparent 60%);
  }

  .x-site .x-hero__grid {
    display: grid;
    grid-template-columns: 1fr 0.9fr;
    gap: var(--x-sp-8);
    align-items: stretch;
  }

  .x-site .x-hero__eyebrow {
    font-family: var(--x-ff-mono);
    font-size: var(--x-fs-6);
    color: var(--x-accent);
    text-transform: uppercase;
    letter-spacing: 0.2em;
    margin-bottom: var(--x-sp-4);
    border-left: 2px solid var(--x-accent);
    padding-left: var(--x-sp-3);
  }

  .x-site .x-hero h1 {
    font-family: var(--x-ff-head);
    font-size: var(--x-fs-1);
    font-weight: 700;
    line-height: var(--x-lh-tight);
    margin-bottom: var(--x-sp-5);
    text-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
  }

  .x-site .x-hero__sub {
    font-size: var(--x-fs-3);
    color: var(--x-muted);
    margin-bottom: var(--x-sp-7);
    max-width: 560px;
    font-weight: 300;
  }

  .x-site .x-hero__bullets li {
    position: relative;
    padding-left: var(--x-sp-4);
    margin-bottom: var(--x-sp-2);
    color: var(--x-text);
    font-family: var(--x-ff-mono);
    font-size: var(--x-fs-5);
    list-style: none !important;
  }

  /* Tech Square Marker */
  .x-site .x-hero__bullets li::before {
    content: '';
    position: absolute;
    left: 0;
    top: 9px;
    width: 6px;
    height: 6px;
    background: var(--x-accent);
    box-shadow: 0 0 8px var(--x-accent);
    border-radius: 1px;
  }

  /* Remove default UL padding/margin if not already done */
  .x-site .x-hero__bullets {
    list-style: none;
    padding: 0;
    margin: 0;
    margin-bottom: var(--x-sp-6);
    /* Push CTAs further down */
  }

  .x-site .x-hero__ctas {
    display: flex;
    gap: var(--x-sp-4);
    flex-wrap: wrap;
    margin-bottom: var(--x-sp-4);
  }

  .x-site .x-hero__micro {
    font-family: var(--x-ff-mono);
    font-size: 11px;
    text-transform: uppercase;
    color: var(--x-muted);
    opacity: 0.7;
    letter-spacing: 0.05em;
  }

  /* Role Switcher */
  .x-site .x-tabs {
    display: flex;
    gap: 0;
    border-bottom: 1px solid var(--x-line);
    margin-bottom: var(--x-sp-6);
  }

  .x-site .x-tab {
    font-family: var(--x-ff-mono);
    font-size: var(--x-fs-6);
    text-transform: uppercase;
    font-weight: 700;
    padding: var(--x-sp-2) var(--x-sp-4);
    background: transparent;
    color: var(--x-muted);
    border: none;
    border-bottom: 2px solid transparent;
    cursor: pointer;
    transition: all .2s;
    position: relative;
    top: 1px;
  }

  .x-site .x-tab:hover {
    color: var(--x-text);
  }

  .x-site .x-tab--active {
    color: var(--x-accent);
    border-bottom-color: var(--x-accent);
  }

  .x-site .x-tab-panel {
    display: none;
    animation: fadeIn 0.3s ease;
  }

  .x-site .x-tab-panel--active {
    display: block;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(5px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Hero Visual */
  .x-site .x-hero__visual {
    position: relative;
    background: rgba(19, 27, 46, 0.3);
    border: 1px solid var(--x-line);
    min-height: 400px;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.5), 0 10px 40px rgba(0, 0, 0, 0.4);
    overflow: hidden;
  }

  @media (min-width: 1200px) {
    .x-site .x-hero__visual {
      min-height: 520px;
    }
  }

  /* Scanline effect entirely inside the visual block */
  .x-site .x-hero__visual::after {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    background: linear-gradient(to bottom, rgba(0, 229, 255, 0) 0%, rgba(0, 229, 255, 0.05) 50%, rgba(0, 229, 255, 0) 100%);
    background-size: 100% 200%;
    animation: visual-scanline 6s linear infinite;
    z-index: 5;
  }

  @keyframes visual-scanline {
    from {
      background-position: 0 -100%;
    }

    to {
      background-position: 0 200%;
    }
  }

  /* Corner Brackets */
  .x-site .x-hero__visual::before {
    content: '';
    position: absolute;
    inset: -1px;
    pointer-events: none;
    background:
      linear-gradient(to right, var(--x-accent) 2px, transparent 2px) 0 0,
      linear-gradient(to bottom, var(--x-accent) 2px, transparent 2px) 0 0,
      linear-gradient(to left, var(--x-accent) 2px, transparent 2px) 100% 0,
      linear-gradient(to bottom, var(--x-accent) 2px, transparent 2px) 100% 0,
      linear-gradient(to right, var(--x-accent) 2px, transparent 2px) 0 100%,
      linear-gradient(to top, var(--x-accent) 2px, transparent 2px) 0 100%,
      linear-gradient(to left, var(--x-accent) 2px, transparent 2px) 100% 100%,
      linear-gradient(to top, var(--x-accent) 2px, transparent 2px) 100% 100%;
    background-repeat: no-repeat;
    background-size: 20px 20px;
    opacity: 0.7;
    z-index: 2;
  }

  .x-site .x-radar {
    width: 80%;
    aspect-ratio: 1;
    border-radius: 50%;
    position: relative;
    border: 1px solid rgba(0, 229, 255, 0.1);
    background: radial-gradient(circle, transparent 60%, rgba(0, 229, 255, 0.05) 61%, transparent 62%);
    z-index: 1;
  }

  .x-site .x-radar::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: conic-gradient(from 0deg, transparent 0deg, rgba(0, 229, 255, 0.15) 80deg, transparent 80deg);
    animation: radar-spin 4s linear infinite;
  }

  @keyframes radar-spin {
    from {
      transform: rotate(0deg);
    }

    to {
      transform: rotate(360deg);
    }
  }

  .x-site .x-hotspot {
    width: 24px;
    height: 24px;
    border: 1px solid var(--x-accent);
    border-radius: 50%;
    background: var(--x-surface);
    color: var(--x-accent);
    cursor: pointer;
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--x-ff-mono);
    font-size: 11px;
    font-weight: 700;
    box-shadow: 0 0 10px rgba(0, 229, 255, 0.2);
    transition: all .2s;
    z-index: 10;
  }

  .x-site .x-hotspot:hover,
  .x-site .x-hotspot:focus,
  .x-site .x-hotspot[aria-expanded="true"] {
    background: var(--x-accent);
    color: #000;
    box-shadow: 0 0 15px var(--x-accent);
  }

  .x-site .x-hotspot::after {
    content: attr(data-n);
  }

  .x-site .x-hotspot__tip {
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translate(-50%, 0) scale(0.9);
    width: max-content;
    max-width: 260px;
    background: var(--x-surface-2);
    border: 1px solid var(--x-accent);
    padding: 10px 14px;
    border-radius: 4px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    opacity: 0;
    pointer-events: none;
    transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
    z-index: 100;
    text-align: left;
    margin-bottom: 12px;
  }

  .x-site .x-hotspot__tip::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: var(--x-accent) transparent transparent transparent;
  }

  .x-site .x-hotspot__tip strong {
    display: block;
    color: var(--x-accent);
    font-family: var(--x-ff-mono);
    font-size: 10px;
    text-transform: uppercase;
    margin-bottom: 4px;
    letter-spacing: 0.05em;
  }

  .x-site .x-hotspot__tip span {
    display: block;
    font-size: 12px;
    line-height: 1.4;
    color: var(--x-text);
  }

  .x-site .x-hotspot[aria-expanded="true"] .x-hotspot__tip,
  .x-site .x-hotspot:hover .x-hotspot__tip,
  .x-site .x-hotspot:focus .x-hotspot__tip {
    opacity: 1;
    pointer-events: auto;
    transform: translate(-50%, 0) scale(1);
  }

  /* === CARDS (Mission Control) === */
  .x-site .x-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--x-sp-5);
  }

  .x-site .x-card {
    background: var(--x-surface);
    border: 1px solid var(--x-line);
    padding: var(--x-sp-5);
    position: relative;
    transition: all .2s;
  }

  .x-site .x-card:hover {
    border-color: var(--x-muted);
    transform: translateY(-2px);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  }

  .x-site .x-card__title {
    font-family: var(--x-ff-head);
    font-size: var(--x-fs-4);
    font-weight: 700;
    color: var(--x-text);
    margin-bottom: var(--x-sp-3);
    display: flex;
    align-items: center;
    gap: var(--x-sp-2);
  }

  .x-site .x-card__text {
    font-size: var(--x-fs-5);
    color: var(--x-muted);
    line-height: 1.5;
  }

  /* Corner bracket decoration for cards */
  .x-site .x-card::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 0;
    height: 0;
    border-style: solid;
    border-width: 0 12px 12px 0;
    border-color: transparent var(--x-accent) transparent transparent;
    opacity: 0;
    transition: opacity 0.2s;
  }

  .x-site .x-card:hover::after {
    opacity: 1;
  }

  /* === COMPONENTS === */
  /* Accordion (Premium AI UX Redesign) */
  .x-site .x-accordion {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .x-site .x-acc-item {
    background: rgba(19, 27, 46, 0.4);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(0, 229, 255, 0.1);
    border-radius: 12px;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .x-site .x-acc-item--open {
    border-color: rgba(0, 229, 255, 0.4);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4), 0 0 15px rgba(0, 229, 255, 0.1);
  }

  .x-site .x-acc-item__head {
    width: 100%;
    text-align: left;
    padding: var(--x-sp-4) var(--x-sp-5);
    font-family: var(--x-ff-mono);
    font-size: 1.1rem;
    font-weight: 600;
    background: transparent;
    border: none;
    border-left: 2px solid transparent;
    color: var(--x-text);
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .x-site .x-acc-item__head::after {
    content: '';
    display: block;
    width: 10px;
    height: 10px;
    border-right: 2px solid var(--x-accent);
    border-bottom: 2px solid var(--x-accent);
    transform: rotate(45deg);
    transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    opacity: 0.7;
    flex-shrink: 0;
    margin-left: 16px;
  }

  .x-site .x-acc-item__head:hover {
    background: rgba(0, 229, 255, 0.03);
    color: #fff;
    border-left-color: rgba(0, 229, 255, 0.5);
  }

  .x-site .x-acc-item__head:hover::after {
    opacity: 1;
    transform: rotate(45deg) scale(1.1);
  }

  .x-site .x-acc-item--open .x-acc-item__head {
    color: #fff;
    background: linear-gradient(90deg, rgba(0, 229, 255, 0.08), transparent);
    border-left-color: var(--x-accent);
    text-shadow: 0 0 10px rgba(0, 229, 255, 0.3);
  }

  .x-site .x-acc-item--open .x-acc-item__head::after {
    transform: rotate(-135deg);
    opacity: 1;
  }

  .x-site .x-acc-item__body {
    display: none;
    padding: 0 var(--x-sp-5) var(--x-sp-5) var(--x-sp-5);
    background: transparent;
    border-top: none;
  }

  .x-site .x-acc-item--open .x-acc-item__body {
    display: block;
    animation: acc-fade-in 0.5s ease forwards;
  }

  @keyframes acc-fade-in {
    from {
      opacity: 0;
      transform: translateY(-5px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* === AUTONOMY SWITCHER (v0.6 Redesign) === */
  .x-site .x-autonomy-switcher {
    position: relative;
    display: flex;
    justify-content: space-between;
    margin: var(--x-sp-7) auto var(--x-sp-6);
    max-width: 800px;
    padding: 0;
  }



  .x-site .x-auto-btn {
    position: relative;
    z-index: 3;
    background: transparent;
    border: none;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    outline: none;
    flex: 1;
  }

  .x-site .x-auto-btn__ring {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: var(--x-surface);
    border: 2px solid rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    position: relative;
  }

  .x-site .x-auto-btn__ring::before {
    content: '';
    position: absolute;
    inset: -6px;
    border-radius: 50%;
    border: 1px dashed var(--x-accent);
    opacity: 0;
    transform: rotate(0deg);
    transition: all 0.4s ease;
  }

  .x-site .x-auto-btn--active .x-auto-btn__ring {
    border-color: var(--x-accent);
    background: rgba(0, 229, 255, 0.1);
    box-shadow: 0 0 20px rgba(0, 229, 255, 0.3), inset 0 0 10px rgba(0, 229, 255, 0.2);
    transform: scale(1.1);
  }

  .x-site .x-auto-btn--active .x-auto-btn__ring::before {
    opacity: 1;
    animation: auto-spin 10s linear infinite;
  }

  @keyframes auto-spin {
    to {
      transform: rotate(360deg);
    }
  }

  .x-site .x-auto-btn__text {
    font-family: var(--x-ff-mono);
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--x-muted);
    transition: color 0.3s ease;
  }

  .x-site .x-auto-btn--active .x-auto-btn__text {
    color: var(--x-accent);
    text-shadow: 0 0 8px var(--x-accent);
  }

  .x-site .x-auto-btn__label {
    font-family: var(--x-ff-head);
    font-size: var(--x-fs-5);
    font-weight: 600;
    color: var(--x-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    transition: all 0.3s ease;
    text-align: center;
  }

  .x-site .x-auto-btn--active .x-auto-btn__label {
    color: var(--x-text);
  }

  .x-site .x-auto-btn:hover .x-auto-btn__ring {
    border-color: rgba(0, 229, 255, 0.5);
    transform: scale(1.05);
  }

  .x-site .x-auto-btn:hover .x-auto-btn__text {
    color: #fff;
  }

  .x-site .x-auto-panel {
    display: none;
    animation: fadeUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  .x-site .x-auto-panel--active {
    display: block;
  }

  @keyframes fadeUp {
    from {
      opacity: 0;
      transform: translateY(15px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .x-site .x-auto-panel__inner {
    position: relative;
    background: rgba(19, 27, 46, 0.4);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(0, 229, 255, 0.2);
    border-radius: 16px;
    padding: var(--x-sp-7);
    overflow: hidden;
    min-height: 280px;
  }

  .x-site .x-auto-panel__inner::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--x-accent), transparent);
    opacity: 0.5;
  }

  .x-site .x-auto-panel__bg-level {
    position: absolute;
    top: -30px;
    right: 20px;
    font-family: var(--x-ff-mono);
    font-size: 12rem;
    font-weight: 800;
    line-height: 1;
    color: rgba(0, 229, 255, 0.03);
    pointer-events: none;
    user-select: none;
    z-index: 0;
  }

  .x-site .x-auto-panel__content {
    position: relative;
    z-index: 1;
    max-width: 850px;
  }

  .x-site .x-auto-panel__title {
    font-size: var(--x-fs-3);
    font-weight: 700;
    margin-bottom: var(--x-sp-4);
    color: var(--x-text);
  }

  @media(max-width: 768px) {
    .x-site .x-autonomy-switcher {
      flex-direction: column;
      gap: 16px;
      padding: 0;
      margin-bottom: var(--x-sp-6);
    }

    .x-site .x-auto-track,
    .x-site .x-auto-progress {
      display: none;
    }

    .x-site .x-auto-btn {
      flex-direction: row;
      justify-content: flex-start;
      padding: 12px 16px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      background: rgba(19, 27, 46, 0.3);
    }

    .x-site .x-auto-btn__ring {
      width: 32px;
      height: 32px;
    }

    .x-site .x-auto-btn__text {
      font-size: 1rem;
    }

    .x-site .x-auto-btn--active {
      border-color: rgba(0, 229, 255, 0.3);
      background: rgba(0, 229, 255, 0.05);
    }

    .x-site .x-auto-panel__inner {
      padding: var(--x-sp-5);
    }

    .x-site .x-auto-panel__bg-level {
      font-size: 6rem;
      top: 10px;
      right: 10px;
    }
  }

  .x-site .x-card__text,
  .x-site .x-hero__bullets,
  .x-site .x-step__chips,
  .x-site .x-auto-panel__content>p,
  .x-site .x-auto-panel__content>a {
    position: relative;
    z-index: 1;
  }

  /* Drawer */
  .x-site .x-drawer {
    display: flex;
    position: fixed;
    inset: 0;
    z-index: 200;
    pointer-events: none;
    opacity: 0;
    transition: opacity .2s;
  }

  .x-site .x-drawer--open {
    opacity: 1;
    pointer-events: auto;
  }

  .x-site .x-drawer__overlay {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(4px);
  }

  .x-site .x-drawer__panel {
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0;
    width: 480px;
    max-width: 100%;
    background: var(--x-bg);
    border-left: 1px solid var(--x-line);
    transform: translateX(100%);
    transition: transform .3s cubic-bezier(0.16, 1, 0.3, 1);
    padding: var(--x-sp-6);
    overflow-y: auto;
    padding-top: 80px;
  }

  .x-site .x-drawer--open .x-drawer__panel {
    transform: translateX(0);
  }

  .x-site .x-drawer__close {
    position: absolute;
    top: 20px;
    right: 20px;
    background: none;
    border: 1px solid var(--x-line);
    width: 40px;
    height: 40px;
    color: var(--x-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .x-site .x-drawer__close:hover {
    border-color: var(--x-accent);
    color: var(--x-accent);
  }

  /* === v0.3 VISUALS (FUI) === */
  @keyframes scanline {
    0% {
      transform: translateY(-100%);
    }

    100% {
      transform: translateY(100vh);
    }
  }

  .x-site .x-scanline {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    z-index: 999;
    pointer-events: none;
    background: linear-gradient(to right, transparent, var(--x-accent), transparent);
    opacity: 0.3;
    animation: scanline 4s linear infinite;
  }

  /* Glitch Effect on Hover for Headings */
  .x-site .x-glitch:hover {
    position: relative;
    animation: glitch-anim 0.3s infinite;
  }

  @keyframes glitch-anim {
    0% {
      transform: translate(0);
    }

    20% {
      transform: translate(-2px, 2px);
    }

    40% {
      transform: translate(-2px, -2px);
    }

    60% {
      transform: translate(2px, 2px);
    }

    80% {
      transform: translate(2px, -2px);
    }

    100% {
      transform: translate(0);
    }
  }

  /* Dashboard Grid Background */
  .x-site .x-dash-grid {
    background-image:
      linear-gradient(rgba(0, 229, 255, 0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0, 229, 255, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
    border: 1px solid var(--x-accent-alpha);
  }

  /* Radar Animation */
  @keyframes radar-spin {
    from {
      transform: rotate(0deg);
    }

    to {
      transform: rotate(360deg);
    }
  }

  .x-site .x-radar {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: conic-gradient(from 0deg, transparent 0deg, rgba(0, 229, 255, 0.2) 60deg, transparent 60deg);
    animation: radar-spin 4s linear infinite;
    position: absolute;
    inset: 0;
  }

  /* Bar Chart Animation */
  @keyframes grow-bar {
    from {
      height: 0;
    }

    to {
      height: var(--h);
    }
  }

  .x-site .x-bar {
    width: 8px;
    background: var(--x-accent);
    bottom: 0;
    position: absolute;
    animation: grow-bar 1s ease-out forwards;
    opacity: 0.8;
  }

  .x-site .x-bar:nth-child(2) {
    background: var(--x-muted);
  }

  /* Responsive Mobile */
  @media(max-width:768px) {
    .x-site .x-hero__grid {
      grid-template-columns: 1fr;
    }

    .x-site .x-stepper {
      flex-direction: column;
    }

    .x-site .x-drawer__panel {
      width: 100%;
    }

    .x-site .x-h2 {
      font-size: 1.75rem;
    }
  }

  @media(prefers-reduced-motion:reduce) {
    .x-site * {
      animation: none !important;
      transition: none !important;
    }
  }


  /* === PATCH v0.3: missing component styles (trust badges, drawer docs, chips, self-check, contacts, form steps) === */
  .x-hero__content {
    display: flex;
    flex-direction: column;
    gap: var(--x-sp-4)
  }

  .x-trust {
    padding: var(--x-sp-4) 0;
    border-top: 1px solid var(--x-line);
    border-bottom: 1px solid var(--x-line);
    background: linear-gradient(90deg, rgba(19, 27, 46, .35), rgba(0, 229, 255, .05), rgba(19, 27, 46, .35))
  }

  .x-trust__row {
    display: flex;
    gap: var(--x-sp-3);
    flex-wrap: wrap;
    justify-content: center
  }

  .x-badge {
    appearance: none;
    border: 1px solid rgba(0, 229, 255, 0.2);
    background: linear-gradient(135deg, rgba(19, 27, 46, 0.6), rgba(11, 17, 32, 0.8));
    backdrop-filter: blur(8px);
    color: var(--x-text);
    padding: 10px 18px;
    border-radius: 999px;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    font-size: 14px;
    font-family: var(--x-ff-mono);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    cursor: pointer;
    user-select: none;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    position: relative;
    overflow: hidden;
  }

  .x-badge::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, transparent, rgba(0, 229, 255, 0.1), transparent);
    transform: translateX(-100%) skewX(-15deg);
    transition: transform 0.6s ease;
  }

  .x-badge:hover {
    border-color: var(--x-accent);
    color: #fff;
    box-shadow: 0 0 20px rgba(0, 229, 255, 0.3), inset 0 0 10px rgba(0, 229, 255, 0.1);
    transform: translateY(-2px);
  }

  .x-badge:hover::before {
    transform: translateX(100%) skewX(-15deg);
  }

  .x-badge:active {
    transform: translateY(1px);
    box-shadow: 0 0 10px rgba(0, 229, 255, 0.4);
  }

  .x-badge:focus-visible {
    outline: 2px solid var(--x-accent);
    outline-offset: 2px;
  }

  .x-badge__icon {
    font-size: 16px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 26px;
    height: 26px;
    background: rgba(0, 229, 255, 0.1);
    border-radius: 50%;
    color: var(--x-accent);
    box-shadow: 0 0 8px rgba(0, 229, 255, 0.2);
    transition: all 0.3s ease;
  }

  .x-badge:hover .x-badge__icon {
    background: var(--x-accent);
    color: #000;
    box-shadow: 0 0 12px var(--x-accent);
    transform: scale(1.1);
  }

  .x-chip {
    display: inline-flex;
    align-items: center;
    padding: 6px 10px;
    border: 1px dashed var(--x-line);
    border-radius: 999px;
    color: var(--x-muted);
    font-size: var(--x-fs-6);
    background: rgba(11, 17, 32, .25)
  }

  .x-step__chips {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    margin-top: var(--x-sp-3)
  }

  .x-selfcheck {
    border: 1px solid var(--x-line);
    background: rgba(19, 27, 46, .35);
    padding: var(--x-sp-5);
    border-radius: var(--x-r-3)
  }

  .x-check {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 12px;
    border: 1px solid var(--x-line);
    border-radius: var(--x-r-2);
    background: rgba(11, 17, 32, .25);
    margin-bottom: var(--x-sp-2);
    cursor: pointer
  }

  .x-check input {
    accent-color: var(--x-accent)
  }

  .x-selfcheck__result {
    margin-top: var(--x-sp-3);
    padding: var(--x-sp-3);
    border-left: 2px solid var(--x-accent);
    background: rgba(0, 229, 255, .06);
    color: var(--x-text);
    font-size: var(--x-fs-5)
  }

  .x-contacts {
    padding: var(--x-sp-8) 0
  }

  .x-contacts__row {
    margin-top: var(--x-sp-5);
    display: flex;
    gap: var(--x-sp-4);
    justify-content: center;
    flex-wrap: wrap
  }

  .x-contacts__item {
    padding: var(--x-sp-3) var(--x-sp-4);
    border: 1px solid var(--x-line);
    border-radius: var(--x-r-2);
    background: rgba(19, 27, 46, .45);
    font-family: var(--x-ff-mono);
    font-size: var(--x-fs-5)
  }

  .x-form-cta {
    padding: var(--x-sp-8) 0
  }

  .x-form-cta__steps {
    margin-top: var(--x-sp-5);
    display: flex;
    gap: var(--x-sp-4);
    justify-content: center;
    flex-wrap: wrap
  }

  .x-form-cta__step {
    padding: var(--x-sp-3) var(--x-sp-4);
    border: 1px solid var(--x-line);
    border-radius: var(--x-r-2);
    background: rgba(19, 27, 46, .45);
    font-size: var(--x-fs-5);
    min-width: 180px
  }

  .x-form-cta__step strong {
    display: block;
    font-family: var(--x-ff-mono);
    color: var(--x-accent);
    margin-bottom: 4px
  }

  .x-drawer__title {
    font-size: var(--x-fs-3);
    margin: 0 0 var(--x-sp-2);
    letter-spacing: .02em
  }

  .x-drawer__docs {
    list-style: none;
    padding: 0;
    margin: var(--x-sp-5) 0;
    display: flex;
    flex-direction: column;
    gap: var(--x-sp-3)
  }

  .x-drawer__doc {
    display: flex;
    align-items: center;
    gap: var(--x-sp-3);
    padding: var(--x-sp-3);
    border: 1px solid var(--x-line);
    border-radius: var(--x-r-2);
    background: rgba(19, 27, 46, .45)
  }

  .x-drawer__doc-icon {
    width: 28px;
    text-align: center
  }

  .x-drawer__doc-name {
    font-weight: 600
  }

  .x-drawer__doc-desc {
    margin-top: 2px;
    color: var(--x-muted);
    font-size: var(--x-fs-6)
  }

  .x-doc-link {
    color: var(--x-text)
  }

  @media(max-width:768px) {
    .x-form-cta__step {
      min-width: unset;
      width: 100%
    }
  }

  /* === NEW DYNAMIC HOTSPOTS === */
  .x-site .x-hotspots {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 10;
  }

  .x-site .x-hotspot {
    position: absolute;
    background: none;
    border: none;
    padding: 0;
    cursor: pointer;
    pointer-events: auto;
    display: flex;
    flex-direction: row;
    text-align: left;
    align-items: center;
    gap: 12px;
    outline: none;
    width: max-content;
    /* initial state for entry animation */
    opacity: 0;
    transform: translateY(20px);
    animation: fade-up-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  /* Target predefined spots for the 5 dynamic items */
  .x-site .x-hotspot:nth-child(1) {
    top: 12%;
    left: 20px;
    --h-delay: 0.1s;
    animation-delay: 0.1s;
  }

  .x-site .x-hotspot:nth-child(2) {
    top: 31%;
    left: 20px;
    --h-delay: 0.2s;
    animation-delay: 0.2s;
  }

  .x-site .x-hotspot:nth-child(3) {
    top: 50%;
    left: 20px;
    --h-delay: 0.3s;
    animation-delay: 0.3s;
  }

  .x-site .x-hotspot:nth-child(4) {
    top: 69%;
    left: 20px;
    --h-delay: 0.4s;
    animation-delay: 0.4s;
  }

  .x-site .x-hotspot:nth-child(5) {
    top: 88%;
    left: 20px;
    --h-delay: 0.5s;
    animation-delay: 0.5s;
  }

  @keyframes fade-up-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .x-site .x-hotspot::before {
    content: '';
    display: block;
    width: 60px;
    height: 1px;
    background-image: linear-gradient(to right, rgba(0, 229, 255, 0.8) 50%, transparent 50%);
    background-size: 10px 1px;
    background-repeat: repeat-x;
    animation: dash-flow 1.5s linear infinite;
    opacity: 0.3;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    flex-shrink: 0;
    transform-origin: left;
    transform: scaleX(0);
    animation: dash-flow 1.5s linear infinite, draw-line 0.6s cubic-bezier(0.16, 1, 0.3, 1) calc(var(--h-delay, 0s) + 0.5s) forwards;
  }

  /* Only invert direction, keep the draw-line animation intact */
  .x-site .x-hotspot:nth-child(even)::before {
    animation: dash-flow-reverse 1.5s linear infinite, draw-line 0.6s cubic-bezier(0.16, 1, 0.3, 1) calc(var(--h-delay, 0s) + 0.5s) forwards;
  }

  @keyframes draw-line {
    from {
      transform: scaleX(0);
      opacity: 0;
    }

    to {
      transform: scaleX(1);
      opacity: 0.3;
    }
  }

  @keyframes dash-flow {
    from {
      background-position: 0 0;
    }

    to {
      background-position: -20px 0;
    }
  }

  @keyframes dash-flow-reverse {
    from {
      background-position: 0 0;
    }

    to {
      background-position: 20px 0;
    }
  }

  .x-site .x-hotspot__beacon {
    width: 14px;
    height: 14px;
    border: 1px solid rgba(0, 229, 255, 0.6);
    border-radius: 50%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 0 15px rgba(0, 229, 255, 0.2), inset 0 0 8px rgba(0, 229, 255, 0.2);
    transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
    flex-shrink: 0;
    background: rgba(19, 27, 46, 0.8);
    z-index: 2;
  }

  .x-site .x-hotspot__beacon::before {
    content: '';
    position: absolute;
    inset: -6px;
    border-radius: 50%;
    border: 1px solid var(--x-accent);
    opacity: 0;
    transform: scale(0.5);
    animation: radar-ring 3s cubic-bezier(0.16, 1, 0.3, 1) infinite;
  }

  /* Stagger radar rings slightly based on nth-child */
  .x-site .x-hotspot:nth-child(2) .x-hotspot__beacon::before {
    animation-delay: 0.5s;
  }

  .x-site .x-hotspot:nth-child(3) .x-hotspot__beacon::before {
    animation-delay: 1.0s;
  }

  .x-site .x-hotspot:nth-child(4) .x-hotspot__beacon::before {
    animation-delay: 1.5s;
  }

  .x-site .x-hotspot:nth-child(5) .x-hotspot__beacon::before {
    animation-delay: 2.0s;
  }

  @keyframes radar-ring {
    0% {
      opacity: 0;
      transform: scale(0.5);
      border-width: 2px;
    }

    20% {
      opacity: 0.6;
      transform: scale(1.2);
    }

    100% {
      opacity: 0;
      transform: scale(3.5);
      border-width: 0px;
    }
  }

  .x-site .x-hotspot__beacon::after {
    content: '';
    width: 6px;
    height: 6px;
    background: var(--x-accent);
    border-radius: 50%;
    box-shadow: 0 0 12px var(--x-accent);
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .x-site .x-hotspot__callout {
    background: linear-gradient(135deg, rgba(19, 27, 46, 0.95), rgba(11, 17, 32, 0.98));
    border: 1px solid rgba(0, 229, 255, 0.2);
    border-left: 3px solid var(--x-accent);
    padding: 14px 18px;
    border-radius: 6px;
    backdrop-filter: blur(10px);
    max-width: 320px;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    transform-origin: left center;
    opacity: 0;
    transform: translateX(-10px) scale(0.95);
    animation: callout-enter 0.6s cubic-bezier(0.16, 1, 0.3, 1) calc(var(--h-delay, 0s) + 0.6s) forwards;
    position: relative;
    overflow: hidden;
  }

  /* Sleek shine effect on the callout */
  .x-site .x-hotspot__callout::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 50%;
    height: 100%;
    background: linear-gradient(to right, transparent, rgba(0, 229, 255, 0.1), transparent);
    transform: skewX(-20deg);
    transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  }

  @keyframes callout-enter {
    from {
      opacity: 0;
      transform: translateX(-10px) scale(0.95);
    }

    to {
      opacity: 1;
      transform: translateX(0) scale(1);
    }
  }

  .x-site .x-hotspot__key {
    font-family: var(--x-ff-mono);
    color: var(--x-accent);
    font-size: 14px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 6px;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  /* Tech purely decorative dot next to KEY */
  .x-site .x-hotspot__key::before {
    content: '';
    display: inline-block;
    width: 4px;
    height: 4px;
    background: var(--x-accent);
    border-radius: 1px;
    box-shadow: 0 0 6px var(--x-accent);
  }

  .x-site .x-hotspot__text {
    font-size: 14px;
    line-height: 1.6;
    color: var(--x-text);
    opacity: 0.85;
    transition: opacity 0.3s ease;
  }

  /* === HOVER & ACTIVE STATES === */
  .x-site .x-hotspot:hover .x-hotspot__callout,
  .x-site .x-hotspot:focus .x-hotspot__callout,
  .x-site .x-hotspot.is-active .x-hotspot__callout {
    border-color: rgba(0, 229, 255, 0.6);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.6), 0 0 20px rgba(0, 229, 255, 0.1);
    transform: translateX(5px) scale(1.02);
  }

  .x-site .x-hotspot:hover .x-hotspot__callout::after,
  .x-site .x-hotspot:focus .x-hotspot__callout::after,
  .x-site .x-hotspot.is-active .x-hotspot__callout::after {
    left: 200%;
    transition: left 0.8s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .x-site .x-hotspot:hover .x-hotspot__text,
  .x-site .x-hotspot:focus .x-hotspot__text,
  .x-site .x-hotspot.is-active .x-hotspot__text {
    opacity: 1;
  }

  .x-site .x-hotspot:hover .x-hotspot__beacon,
  .x-site .x-hotspot:focus .x-hotspot__beacon,
  .x-site .x-hotspot.is-active .x-hotspot__beacon {
    background: rgba(0, 229, 255, 0.15);
    border-color: var(--x-accent);
    transform: scale(1.3);
    box-shadow: 0 0 20px rgba(0, 229, 255, 0.4);
  }

  /* Intensify beacon center on hover */
  .x-site .x-hotspot:hover .x-hotspot__beacon::after,
  .x-site .x-hotspot:focus .x-hotspot__beacon::after,
  .x-site .x-hotspot.is-active .x-hotspot__beacon::after {
    transform: scale(1.5);
    background: #fff;
    box-shadow: 0 0 15px var(--x-accent), 0 0 5px #fff;
  }

  .x-site .x-hotspot:hover::before,
  .x-site .x-hotspot:focus::before,
  .x-site .x-hotspot.is-active::before {
    opacity: 0.8;
    background-image: linear-gradient(to right, rgba(0, 229, 255, 1) 50%, transparent 50%);
    width: 80px;
    transform: scaleX(1) !important;
  }

  /* Mobile Interactivity */
  @media(max-width:768px) {
    .x-site .x-hotspot::before {
      display: none;
    }

    .x-site .x-hotspot {
      flex-direction: column !important;
      position: absolute;
    }

    .x-site .x-hotspot:nth-child(1) {
      top: 12%;
      left: 20%;
    }

    .x-site .x-hotspot:nth-child(2) {
      top: 31%;
      left: 35%;
    }

    .x-site .x-hotspot:nth-child(3) {
      top: 50%;
      left: 50%;
    }

    .x-site .x-hotspot:nth-child(4) {
      top: 69%;
      left: 35%;
    }

    .x-site .x-hotspot:nth-child(5) {
      top: 88%;
      left: 20%;
    }

    .x-site .x-hotspot__callout {
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%) translateY(10px);
      margin-top: 10px;
      opacity: 0;
      pointer-events: none;
      width: max-content;
      max-width: 260px;
      z-index: 100;
      text-align: left !important;
    }

    .x-site .x-hotspot.is-active .x-hotspot__callout {
      opacity: 1;
      pointer-events: auto;
      transform: translateX(-50%) translateY(0);
    }
  }

  @media(prefers-reduced-motion:reduce) {

    .x-site .x-hotspot::before,
    .x-site .x-hotspot__beacon::after {
      animation: none !important;
    }
  }

  /* === ARCHITECTURE 2x2 CARDS (v0.5 Premium AI UI) === */
  .x-site .x-arch-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 32px;
  }

  @media(max-width: 768px) {
    .x-site .x-arch-grid {
      grid-template-columns: 1fr;
    }
  }

  .x-site .x-arch-card {
    position: relative;
    background: rgba(19, 27, 46, 0.4);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(0, 229, 255, 0.1);
    border-radius: 12px;
    padding: var(--x-sp-6);
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  .x-site .x-arch-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 12px;
    padding: 1px;
    background: linear-gradient(135deg, rgba(0, 229, 255, 0.4), transparent, transparent, rgba(0, 229, 255, 0.1));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.4s ease;
    pointer-events: none;
  }

  .x-site .x-arch-card:hover {
    transform: translateY(-6px);
    background: rgba(19, 27, 46, 0.8);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4), 0 0 20px rgba(0, 229, 255, 0.15);
    border-color: transparent;
  }

  .x-site .x-arch-card:hover::before {
    opacity: 1;
  }

  .x-site .x-arch-card__icon {
    width: 48px;
    height: 48px;
    border-radius: 10px;
    background: rgba(0, 229, 255, 0.05);
    border: 1px solid rgba(0, 229, 255, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    margin-bottom: var(--x-sp-4);
    color: var(--x-accent);
    box-shadow: 0 0 10px rgba(0, 229, 255, 0.1);
    transition: all 0.4s ease;
    flex-shrink: 0;
  }

  .x-site .x-arch-card:hover .x-arch-card__icon {
    background: var(--x-accent);
    color: #000;
    box-shadow: 0 0 20px var(--x-accent);
    transform: scale(1.05) rotate(-3deg);
  }

  .x-site .x-arch-card::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 50%;
    height: 100%;
    background: linear-gradient(to right, transparent, rgba(0, 229, 255, 0.05), transparent);
    transform: skewX(-20deg);
    transition: none;
  }

  .x-site .x-arch-card:hover::after {
    left: 200%;
    transition: left 0.8s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .x-site .x-arch-card__title {
    font-family: var(--x-ff-head);
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--x-text);
    margin-bottom: var(--x-sp-3);
    transition: color 0.3s ease;
  }

  .x-site .x-arch-card:hover .x-arch-card__title {
    color: #fff;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
  }
</style>
<div class="x-site">
  <div class="x-scanline"></div>
  <!-- S0: HEADER -->
  <header class="x-header" id="x-header">
    <div class="x-header__inner">
      <a class="x-logo" href="/">АГРО<span>ТАКТИК</span></a>
      <nav>
        <ul class="x-nav" id="x-nav">
          <li><a class="x-nav__item" href="#x-model">Модель</a></li>
          <li><a class="x-nav__item" href="#x-platform">Платформа</a></li>
          <li><a class="x-nav__item" href="#x-integrations">Интеграции</a></li>
          <li><a class="x-nav__item" href="#x-pilot">Пилот</a></li>
          <li><a class="x-nav__item" href="#recCONTACTS">Контакты</a></li>
        </ul>
      </nav>
      <!-- REPLACE #recFORM with real Tilda recID -->
      <a class="x-btn x-btn--primary x-btn--demo" href="#x-request-demo">Запросить демо</a>
      <button aria-label="Меню" class="x-burger" id="x-burger">☰</button>
    </div>
  </header>
  <!-- S1: HERO -->
  <section class="x-hero">
    <div class="x-wrap">
      <div class="x-hero__grid">
        <div class="x-hero__content">
          <p class="x-hero__eyebrow">Операционный контур для агрохолдингов</p>
          <h1>Единая система управления агропредприятием: AI автоматизирует рутинные процессы — вы решаете главное</h1>
          <p class="x-hero__sub">От мониторинга техники и контроля процессов — до прогнозирования, планирования и
            автоматической отчётности надзорным органам. AI координирует людей, оборудование и беспилотный парк в едином
            контуре. Глубина автоматизации — на ваш выбор.</p>
          <!-- Role Switcher -->
          <div class="x-tabs" role="tablist">
            <button aria-selected="true" class="x-tab x-tab--active" data-panel="coo" role="tab">Руководителю</button>
            <button aria-selected="false" class="x-tab" data-panel="agro" role="tab">Агроному</button>
            <button aria-selected="false" class="x-tab" data-panel="zoo" role="tab">Зоотехнику</button>
            <button aria-selected="false" class="x-tab" data-panel="mech" role="tab">Гл. механику</button>
            <button aria-selected="false" class="x-tab" data-panel="eng" role="tab">Инженеру</button>
            <button aria-selected="false" class="x-tab" data-panel="it" role="tab">IT + ИБ</button>
          </div>
          <div class="x-tab-panel x-tab-panel--active" id="panel-coo">
            <ul class="x-hero__bullets">
              <li>План-факт и KPI по каждому подразделению в реальном времени</li>
              <li>Очередь отклонений с приоритетами и ответственными</li>
              <li>Готовые пакеты для правления и совета директоров</li>
            </ul>
          </div>
          <div class="x-tab-panel" id="panel-agro">
            <ul class="x-hero__bullets">
              <li>План-факт работ по полям в разрезе культур: окна операций, отклонения, причины, ответственность</li>
              <li>Контроль качества агроопераций: скорости/перекрытия/пропуски/нормы внесения + карта фактического
                выполнения</li>
              <li>Риски сезона и прогноз потерь: погодные/технологические/ресурсные — с алертами и сценариями
                реагирования</li>
            </ul>
          </div>
          <div class="x-tab-panel" id="panel-zoo">
            <ul class="x-hero__bullets">
              <li>Управление кормовой логистикой: план-факт заготовки/доставки, отклонения, очереди задач и
                ответственные</li>
              <li>Контроль качества кормов и рационов: партии/показатели/события отклонений + трассировка “партия →
                рацион → результат”</li>
              <li>Операционная прозрачность по фермам: журнал событий и нарушений регламента
                (кормление/перемещения/вет-события) с аудитом</li>
            </ul>
          </div>
          <div class="x-tab-panel" id="panel-mech">
            <ul class="x-hero__bullets">
              <li>Профилактика вместо аварий: алерты по отклонениям телематики и датчиков
                (температуры/давления/вибрации/нагрузки) + ранние признаки поломок</li>
              <li>Единый контур ТОиР по парку: наработка/моточасы → регламент → очередь работ → назначение исполнителя →
                контроль выполнения и простаев</li>
              <li>Запчасти и простои под контролем: потребность по ТО/инцидентам, критичность, сроки поставки, история
                замен и причин — с прозрачным audit trail</li>
            </ul>
          </div>
          <div class="x-tab-panel" id="panel-it">
            <ul class="x-hero__bullets">
              <li>Интеграция поверх существующих ERP/1С без замены</li>
              <li>Аудит-трейл: кто-что-когда-почему — полная прозрачность</li>
              <li>ИБ-контроль: ролевой доступ, журналирование, шифрование</li>
            </ul>
          </div>
          <div class="x-tab-panel" id="panel-eng">
            <ul class="x-hero__bullets">
              <li>Безопасное выполнение работ в поле: геозоны, ограничения условий (ODD), контроль режимов и сценарии
                деградации (fail-safe)</li>
              <li>Управление миссиями и технологическими операциями: задания, маршруты, статусы выполнения, контроль
                отклонений “по месту и времени”</li>
              <li>Инциденты и разбор причин: журнал событий “что произошло → кто принял решение → какое действие
                выполнено” с привязкой к миссии/участку/технике</li>
            </ul>
          </div>
          <div class="x-hero__ctas">
            <a class="x-btn x-btn--primary x-btn--demo" href="#x-request-demo">Запросить демо / техсессию</a>
            <button class="x-btn x-btn--secondary" id="x-open-drawer">Получить пакет документов</button>
          </div>
          <p class="x-hero__micro">Без обязательств с вашей стороны. NDA — по запросу.</p>
        </div>
        <div class="x-hero__visual x-dash-grid">
          <div class="x-hotspots" id="x-hotspots"></div>
        </div>
      </div>
    </div>
  </section>
  <!-- TRUST STRIP -->
  <div class="x-trust">
    <div class="x-wrap">
      <div class="x-trust__row">
        <button class="x-badge" data-doc="security" type="button"><span class="x-badge__icon">�</span> Защита
          данных</button>
        <button class="x-badge" data-doc="safety" type="button"><span class="x-badge__icon">🚧</span> Безопасность
          работ</button>
        <button class="x-badge" data-doc="integration" type="button"><span class="x-badge__icon">⚡</span>
          Интеграции</button>
        <button class="x-badge" data-doc="compliance" type="button"><span class="x-badge__icon">�</span> Документы и
          отчётность</button>
        <button class="x-badge" data-doc="procurement" type="button"><span class="x-badge__icon">📦</span> Для
          закупки</button>
      </div>
    </div>
  </div>
  <!-- S2: ОПЕРАЦИОННАЯ МОДЕЛЬ -->
  <section class="x-section" id="x-model">
    <div class="x-wrap">
      <div class="x-section__head">
        <p class="x-section__label">Операционная модель</p>
        <h2 class="x-h2">Как работает система `Агротактик`: от планирования до регуляторной отчётности</h2>
        <p class="x-lead">Операционная модель построена на пяти взаимосвязанных контурах — от формирования плана до
          регуляторной отчётности. Каждый контур отвечает на три ключевых вопроса: что находится под контролем, по каким
          метрикам оцениваем результат и каким документом подтверждаем исполнение.</p>
      </div>
      <div class="x-accordion">
        <div class="x-acc-item">
          <button class="x-acc-item__head">1. Планирование и нормирование</button>
          <div class="x-acc-item__body">
            <p><strong>Контролируем:</strong> сезонный план, нормативы расхода ресурсов, графики выхода техники по
              хозяйствам.</p>
            <p><strong>Измеряем:</strong> отклонение план/факт по операциям, загрузка ресурсов в разрезе подразделений.
            </p>
            <p><strong>Документ:</strong> <a class="x-doc-link" data-doc="pilot-blueprint"
                href="javascript:void(0)">Pilot Blueprint</a></p>
          </div>
        </div>
        <div class="x-acc-item">
          <button class="x-acc-item__head">2. Диспетчеризация и управление отклонениями</button>
          <div class="x-acc-item__body">
            <p><strong>Контролируем:</strong> очередь отклонений, приоритеты реагирования, назначение ответственных.</p>
            <p><strong>Измеряем:</strong> время реакции на инцидент, % отклонений, закрытых за смену.</p>
            <p><strong>Документ:</strong> <a class="x-doc-link" data-doc="architecture"
                href="javascript:void(0)">Architecture Brief</a></p>
          </div>
        </div>
        <div class="x-acc-item">
          <button class="x-acc-item__head">3. Исполнение и контроль в поле</button>
          <div class="x-acc-item__body">
            <p><strong>Контролируем:</strong> статус задач, GPS-треки техники, фотоотчёты с привязкой к операции.</p>
            <p><strong>Измеряем:</strong> % операций, выполненных в срок; точность покрытия площади.</p>
            <p><strong>Документ:</strong> <a class="x-doc-link" data-doc="onepager"
                href="javascript:void(0)">One-Pager</a></p>
          </div>
        </div>
        <div class="x-acc-item">
          <button class="x-acc-item__head">4. Интеграция и синхронизация данных</button>
          <div class="x-acc-item__body">
            <p><strong>Контролируем:</strong> потоки данных из ERP, телематики, датчиков и BI-систем.</p>
            <p><strong>Измеряем:</strong> задержка синхронизации, % автоматически проведённых операций.</p>
            <p><strong>Документ:</strong> <a class="x-doc-link" data-doc="integration"
                href="javascript:void(0)">Integration Checklist</a></p>
          </div>
        </div>
        <div class="x-acc-item">
          <button class="x-acc-item__head">5. Документация и регуляторная отчётность</button>
          <div class="x-acc-item__body">
            <p><strong>Контролируем:</strong> соответствие требованиям регуляторов, интеграция с Меркурием, полный audit
              trail.</p>
            <p><strong>Измеряем:</strong> полнота журнала событий, % операций с документальным подтверждением.</p>
            <p><strong>Документ:</strong> <a class="x-doc-link" data-doc="compliance"
                href="javascript:void(0)">Compliance Brief</a></p>
          </div>
        </div>
      </div>
      <p class="x-hero__micro" style="margin-top:var(--x-sp-5);">Сквозной контроль от первой задачи до закрывающего
        документа — без разрывов между планированием, действиями (процессом) и отчётностью.</p>
    </div>
  </section>
  <!-- S3: 4 СЛОЯ ПЛАТФОРМЫ -->
  <section class="x-section" id="x-platform">
    <div class="x-wrap">
      <div class="x-section__head">
        <p class="x-section__label">Архитектура</p>
        <h2 class="x-h2">Архитектура системы: как устроен контур изнутри</h2>
        <p class="x-lead">Агротактик построен на четырёх независимых, но взаимосвязанных слоях — каждый работает
          автономно и усиливает следующий.</p>
      </div>
      <div class="x-arch-grid">
        <div class="x-arch-card">
          <div class="x-arch-card__icon">⚡</div>
          <h3 class="x-arch-card__title">Слой 1 — Сбор и нормализация данных</h3>
          <p class="x-card__text">Единая точка входа для всех источников: телематика техники, датчики поля, ERP, 1С,
            «Меркурий» и внешние API. Данные поступают в реальном времени, нормализуются и передаются в единую шину без
            дублирования и ручного переноса.</p>
          <ul class="x-hero__bullets" style="margin-top: var(--x-sp-4); margin-bottom: 0;">
            <li>Поддержка протоколов: MQTT, REST API, OPC-UA, ISOBUS</li>
            <li>Частота синхронизации: от 30 секунд до реального времени</li>
            <li>Хранение сырых данных с полным audit trail</li>
          </ul>
        </div>
        <div class="x-arch-card">
          <div class="x-arch-card__icon">📊</div>
          <h3 class="x-arch-card__title">Слой 2 — AI-аналитика и прогнозирование</h3>
          <p class="x-card__text">Интеллектуальное ядро системы. AI анализирует операционные данные, выявляет
            отклонения, строит прогнозы по урожайности, загрузке техники и расходу ресурсов — и формирует дашборды под
            роль каждого пользователя.</p>
          <ul class="x-hero__bullets" style="margin-top: var(--x-sp-4); margin-bottom: 0;">
            <li>Автоматическое выявление отклонений план/факт</li>
            <li>Прогнозные модели по ресурсам, срокам и рискам</li>
            <li>Персонализированные дашборды: агроном, диспетчер, директор</li>
          </ul>
        </div>
        <div class="x-arch-card">
          <div class="x-arch-card__icon">🔗</div>
          <h3 class="x-arch-card__title">Слой 3 — Операционный контур</h3>
          <p class="x-card__text">Исполнительный слой: управление задачами, диспетчеризация, назначение ответственных,
            контроль исполнения и коммуникация между участниками процесса. Люди, техника и беспилотный парк
            координируются в едином пространстве.</p>
          <ul class="x-hero__bullets" style="margin-top: var(--x-sp-4); margin-bottom: 0;">
            <li>Очередь задач с приоритетами и сроками реакции</li>
            <li>Управление беспилотной техникой и GPS-контроль</li>
            <li>Встроенные регламенты эскалации и уведомлений</li>
          </ul>
        </div>
        <div class="x-arch-card">
          <div class="x-arch-card__icon">📋</div>
          <h3 class="x-arch-card__title">Слой 4 — Документирование и комплаенс</h3>
          <p class="x-card__text">Каждое действие в системе автоматически формирует документальный след. Отчётность для
            надзорных органов, журнал операций, первичная документация — генерируются системой без ручного оформления.
          </p>
          <ul class="x-hero__bullets" style="margin-top: var(--x-sp-4); margin-bottom: 0;">
            <li>Автоматическое формирование закрывающих документов</li>
            <li>Интеграция с «Меркурием» и федеральными реестрами</li>
            <li>Готовность к проверкам: полный audit trail по каждой операции</li>
          </ul>
        </div>
      </div>

      <div class="x-selfcheck"
        style="margin-top: var(--x-sp-6); border-color: var(--x-accent); background: rgba(0, 229, 255, 0.05);">
        <h4
          style="font-family: var(--x-ff-head); font-size: var(--x-fs-4); font-weight: 700; color: var(--x-accent); margin-bottom: var(--x-sp-3);">
          Принцип оптимальной сборки под Ваши задачи</h4>
        <p class="x-card__text">Агротактик не требует внедрения всех слоёв сразу. Архитектура модульная: начните с
          операционного контура и диспетчеризации — и добавляйте слои по мере роста задач. Каждый модуль работает
          самостоятельно и усиливается при подключении соседних.</p>
      </div>

      <p class="x-hero__micro" style="margin-top: var(--x-sp-6); text-align: center;">Начать с пилота → Фиксированные
        метрики. Прозрачная приёмка. Результат за 30 дней</p>
    </div>
  </section>
  <!-- S4: ЛЕСТНИЦА АВТОНОМИИ -->
  <section class="x-section" id="x-autonomy">
    <div class="x-wrap">
      <div class="x-section__head">
        <p class="x-section__label">Уровни автономии</p>
        <h2 class="x-h2">Уровни автоматизации: управляемый переход от ручного труда к оркестрации процессов</h2>
        <p class="x-lead">Каждый уровень даёт измеримый эффект и имеет чёткие требования к данным, инфраструктуре связи,
          регламентам и информационной безопасности. Переходите поэтапно — без скачков и принудительной смены процессов.
        </p>
        <p class="x-hero__micro" style="margin-top: var(--x-sp-4);">Выберите уровень — увидите эффект, границы
          ответственности, требования к внедрению и документы для согласования.</p>
      </div>
      <!-- NEW SWITCHER -->
      <div class="x-autonomy-switcher">
        <button class="x-auto-btn x-auto-btn--active" data-level="1">
          <span class="x-auto-btn__ring"><span class="x-auto-btn__text">A1</span></span>
          <span class="x-auto-btn__label">Ассистент</span>
        </button>
        <button class="x-auto-btn" data-level="2">
          <span class="x-auto-btn__ring"><span class="x-auto-btn__text">A2</span></span>
          <span class="x-auto-btn__label">Супервизор</span>
        </button>
        <button class="x-auto-btn" data-level="3">
          <span class="x-auto-btn__ring"><span class="x-auto-btn__text">A3</span></span>
          <span class="x-auto-btn__label">Агент</span>
        </button>
        <button class="x-auto-btn" data-level="4">
          <span class="x-auto-btn__ring"><span class="x-auto-btn__text">A4</span></span>
          <span class="x-auto-btn__label">Оркетсратор</span>
        </button>
      </div>

      <!-- NEW PANELS -->
      <div class="x-autonomy-panels">
        <!-- Panel 1 -->
        <div class="x-auto-panel x-auto-panel--active" id="auto-panel-1">
          <div class="x-auto-panel__inner">
            <div class="x-auto-panel__bg-level">A1</div>
            <div class="x-auto-panel__content">
              <h3 class="x-auto-panel__title">Ассистент: качество операций и дисциплина данных</h3>
              <ul class="x-hero__bullets" style="margin-bottom: var(--x-sp-4);">
                <li>Стабильное выполнение работ: меньше ошибок, ручных отклонений и потерь на качестве</li>
                <li>Данные становятся пригодными для управления: моточасы, операции, базовые статусы и события
                  фиксируются системно</li>
                <li>Готовность к A2: определяем минимальный набор телематики, каналов связи и правил реакции</li>
              </ul>
              <div class="x-step__chips" style="margin-bottom: var(--x-sp-5);">
                <span class="x-chip">Качество работ</span>
                <span class="x-chip">Дисциплина данных</span>
                <span class="x-chip">Подготовка к следующему уровню</span>
              </div>
              <p style="margin-top:var(--x-sp-4);font-size:var(--x-fs-6);color:var(--x-muted)">Этот уровень часто
                проходят «незаметно» — но именно он снижает риски при переходе к A2 и формирует фундамент для всей
                автоматизации.</p>
            </div>
          </div>
        </div>

        <!-- Panel 2 -->
        <div class="x-auto-panel" id="auto-panel-2">
          <div class="x-auto-panel__inner">
            <div class="x-auto-panel__bg-level">A2</div>
            <div class="x-auto-panel__content">
              <h3 class="x-auto-panel__title">Супервизор: командный центр, контроль отклонений и ручные решения</h3>
              <ul class="x-hero__bullets" style="margin-bottom: var(--x-sp-4);">
                <li>План-факт и отклонения в реальном времени: видно, где срыв, кто отвечает и что делать прямо сейчас
                </li>
                <li>Очередь отклонений с ответственными: приоритет → назначение → срок реакции → статус закрытия</li>
                <li>Карта и слои: поля, маршруты, геозоны, задачи — прозрачная картина всего парка на одном экране</li>
              </ul>
              <div class="x-step__chips" style="margin-bottom: var(--x-sp-5);">
                <span class="x-chip">Командный центр</span>
                <span class="x-chip">Контроль отклонений</span>
                <span class="x-chip">Карта парка</span>
              </div>
              <p style="margin-top:var(--x-sp-4);font-size:var(--x-fs-6);color:var(--x-muted)">Самый безопасный старт:
                полная видимость и управление без автоматического исполнения. Человек принимает все решения — система
                только обеспечивает картину.</p>
            </div>
          </div>
        </div>

        <!-- Panel 3 -->
        <div class="x-auto-panel" id="auto-panel-3">
          <div class="x-auto-panel__inner">
            <div class="x-auto-panel__bg-level">A3</div>
            <div class="x-auto-panel__content">
              <h3 class="x-auto-panel__title">Агент: система предлагает решения, руководитель утверждает</h3>
              <ul class="x-hero__bullets" style="margin-bottom: var(--x-sp-4);">
                <li>Приоритизация действий: что делать прямо сейчас и почему — на основе данных, истории и регламентов
                </li>
                <li>Снижение простоев и потерь: рекомендации по маршрутам, ресурсам, очерёдности задач и реакции на
                  отклонения</li>
                <li>Проверяемость каждого решения: журнал «кто — что — почему» для разборов, отчётности и распределения
                  ответственности</li>
              </ul>
              <div class="x-step__chips" style="margin-bottom: var(--x-sp-5);">
                <span class="x-chip">Рекомендации AI</span>
                <span class="x-chip">Регламенты</span>
                <span class="x-chip">Подтверждение руководителем</span>
              </div>
              <p style="margin-top:var(--x-sp-4);font-size:var(--x-fs-6);color:var(--x-muted)">Человек остаётся в
                контуре управления. Система ускоряет и стандартизирует решения — но не забирает контроль.</p>
            </div>
          </div>
        </div>

        <!-- Panel 4 -->
        <div class="x-auto-panel" id="auto-panel-4">
          <div class="x-auto-panel__inner">
            <div class="x-auto-panel__bg-level">A4</div>
            <div class="x-auto-panel__content">
              <h3 class="x-auto-panel__title">Оркетсратор: автоматическое исполнение в рамках утверждённых правил</h3>
              <ul class="x-hero__bullets" style="margin-bottom: var(--x-sp-4);">
                <li>Авторасчёт и распределение задач: система назначает исполнителей по регламенту, руководитель
                  управляет только исключениями</li>
                <li>Сквозная трассировка: от события и действия — до закрывающего документа с полным audit trail</li>
                <li>Готовность к проверкам: информационная безопасность, аудит и комплаенс — включая «Меркурий» — как
                  часть штатного процесса</li>
              </ul>
              <div class="x-step__chips" style="margin-bottom: var(--x-sp-5);">
                <span class="x-chip">Оркестрация процессов</span>
                <span class="x-chip">Аудит</span>
                <span class="x-chip">Регуляторный комплаенс</span>
              </div>
              <p style="margin-top:var(--x-sp-4);font-size:var(--x-fs-6);color:var(--x-muted)">Этот уровень активируется
                только после фиксации правил, ролей и критериев приёмки. Никаких скачков — только управляемый переход.
              </p>
            </div>
          </div>
        </div>
      </div>
      <div style="display:flex;gap:var(--x-sp-4);justify-content:center;flex-wrap:wrap;margin-top:var(--x-sp-6);">
        <a class="x-btn x-btn--primary x-btn--demo" href="#x-request-demo">Запросить демо / техсессию</a>
        <button class="x-btn x-btn--secondary" id="x-open-drawer-3">Получить пакет документов</button>
      </div>
    </div>
  </section>
  <!-- S5: ЦЕНТР УПРАВЛЕНИЯ -->
  <section class="x-section" id="x-command">
    <style>
      .x-scen-picker {
        display: flex;
        flex-wrap: wrap;
        gap: var(--x-sp-3);
        margin-bottom: var(--x-sp-7);
        justify-content: center;
      }

      .x-scen-btn {
        background: rgba(19, 27, 46, 0.4);
        border: 1px dashed var(--x-line);
        border-radius: var(--x-r-3);
        padding: var(--x-sp-3) var(--x-sp-4);
        color: var(--x-muted);
        font-size: var(--x-fs-5);
        font-family: var(--x-ff-mono);
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        position: relative;
        overflow: hidden;
      }

      .x-scen-btn::before {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(90deg, transparent, rgba(0, 229, 255, 0.1), transparent);
        transform: translateX(-100%) skewX(-15deg);
        transition: transform 0.6s ease;
      }

      .x-scen-btn:hover {
        border-color: rgba(0, 229, 255, 0.5);
        color: #fff;
        transform: translateY(-2px);
      }

      .x-scen-btn:hover::before {
        transform: translateX(100%) skewX(-15deg);
      }

      .x-scen-btn--active {
        background: rgba(0, 229, 255, 0.05);
        border: 1px solid var(--x-accent);
        color: #fff;
        box-shadow: 0 0 20px rgba(0, 229, 255, 0.2), inset 0 0 10px rgba(0, 229, 255, 0.1);
        text-shadow: 0 0 8px var(--x-accent);
      }

      .x-scen-panel {
        display: none;
      }

      .x-scen-panel--active {
        display: block;
      }

      /* Premium Glass Container */
      .x-scen-panel__inner {
        position: relative;
        background: rgba(19, 27, 46, 0.5);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(0, 229, 255, 0.15);
        border-radius: 16px;
        padding: var(--x-sp-7);
        overflow: hidden;
      }

      .x-scen-panel__inner::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg, transparent, var(--x-accent), transparent);
        opacity: 0.6;
      }

      .x-stepper-wrap {
        position: relative;
      }

      /* Animated Connecting Line */
      .x-stepper-line {
        position: absolute;
        top: 24px;
        left: 32px;
        right: 32px;
        height: 1px;
        background-image: linear-gradient(to right, rgba(0, 229, 255, 0.6) 50%, transparent 50%);
        background-size: 10px 1px;
        background-repeat: repeat-x;
        z-index: 0;
        opacity: 0.4;
      }

      .x-scen-panel--active .x-stepper-line {
        animation: dash-flow 1.5s linear infinite;
      }

      @keyframes dash-flow {
        from {
          background-position: 0 0;
        }

        to {
          background-position: -20px 0;
        }
      }

      @media(max-width: 768px) {
        .x-stepper-line {
          top: 32px;
          left: 24px;
          right: auto;
          bottom: 32px;
          width: 1px;
          height: auto;
          background-image: linear-gradient(to bottom, rgba(0, 229, 255, 0.6) 50%, transparent 50%);
          background-size: 1px 10px;
          background-repeat: repeat-y;
        }

        .x-scen-panel--active .x-stepper-line {
          animation: dash-flow-y 1.5s linear infinite;
        }

        @keyframes dash-flow-y {
          from {
            background-position: 0 0;
          }

          to {
            background-position: 0 -20px;
          }
        }

        .x-scen-panel__inner {
          padding: var(--x-sp-5);
        }
      }

      .x-stepper {
        display: grid;
        grid-template-columns: repeat(minmax(200px, 1fr));
        gap: var(--x-sp-5);
        position: relative;
        z-index: 1;
      }

      @media(min-width: 769px) {
        .x-stepper {
          grid-template-columns: repeat(4, 1fr);
        }
      }

      .x-step {
        display: flex;
        flex-direction: column;
        opacity: 0;
        transform: translateY(20px);
      }

      @media(max-width: 768px) {
        .x-step {
          flex-direction: row;
          gap: var(--x-sp-4);
        }
      }

      /* Sequential Stagger Animation */
      .x-scen-panel--active .x-step {
        animation: fade-up-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      }

      .x-scen-panel--active .x-step:nth-child(1) {
        animation-delay: 0.1s;
      }

      .x-scen-panel--active .x-step:nth-child(2) {
        animation-delay: 0.25s;
      }

      .x-scen-panel--active .x-step:nth-child(3) {
        animation-delay: 0.4s;
      }

      .x-scen-panel--active .x-step:nth-child(4) {
        animation-delay: 0.55s;
      }

      @keyframes fade-up-in {
        from {
          opacity: 0;
          transform: translateY(20px);
        }

        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Glowing Beacon Node */
      .x-step__num {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        background: var(--x-bg);
        border: 1px solid rgba(0, 229, 255, 0.4);
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: var(--x-ff-head);
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--x-accent);
        margin-bottom: var(--x-sp-4);
        transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        flex-shrink: 0;
        position: relative;
        box-shadow: 0 0 15px rgba(0, 229, 255, 0.1), inset 0 0 8px rgba(0, 229, 255, 0.1);
      }

      .x-step__num::before {
        content: '';
        position: absolute;
        inset: -6px;
        border-radius: 50%;
        border: 1px dashed var(--x-accent);
        opacity: 0.3;
        transform: rotate(0deg);
        transition: all 1s linear;
      }

      .x-scen-panel--active .x-step__num::before {
        animation: auto-spin 10s linear infinite;
      }

      .x-step:hover .x-step__num {
        border-color: var(--x-accent);
        color: #fff;
        background: rgba(0, 229, 255, 0.15);
        box-shadow: 0 0 20px rgba(0, 229, 255, 0.3), inset 0 0 10px rgba(0, 229, 255, 0.2);
        transform: scale(1.1);
      }

      .x-step:hover .x-step__num::before {
        opacity: 0.8;
      }

      .x-step__title {
        font-family: var(--x-ff-head);
        font-size: var(--x-fs-5);
        font-weight: 700;
        color: var(--x-text);
        margin-bottom: var(--x-sp-2);
        transition: color 0.3s ease;
      }

      .x-step:hover .x-step__title {
        color: #fff;
        text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
      }

      .x-step__text {
        font-size: var(--x-fs-6);
        color: var(--x-muted);
        line-height: 1.5;
      }
    </style>
    <div class="x-wrap">
      <div class="x-section__head">
        <p class="x-section__label">Центр управления</p>
        <h2 class="x-h2">Сценарии: от отклонения до решения за минуты</h2>
      </div>

      <div class="x-scen-picker">
        <button class="x-scen-btn x-scen-btn--active" data-scen="1" type="button">Срыв окна работ</button>
        <button class="x-scen-btn" data-scen="2" type="button">Отклонение техники</button>
        <button class="x-scen-btn" data-scen="3" type="button">Логистика и простой</button>
        <button class="x-scen-btn" data-scen="4" type="button">Комплаенс-ошибка</button>
      </div>

      <div class="x-stepper-wrap">
        <!-- Panel 1 -->
        <div class="x-scen-panel x-scen-panel--active" id="scen-panel-1">
          <div class="x-scen-panel__inner">
            <div class="x-stepper-line"></div>
            <div class="x-stepper">
              <div class="x-step">
                <div class="x-step__num">1</div>
                <div>
                  <h3 class="x-step__title">Факт отклоняется</h3>
                  <p class="x-step__text">Система фиксирует, что операция отстаёт от плана: темп ниже нормы, окно работ
                    сужается, риск срыва растёт.</p>
                </div>
              </div>
              <div class="x-step">
                <div class="x-step__num">2</div>
                <div>
                  <h3 class="x-step__title">Отклонение в очереди</h3>
                  <p class="x-step__text">Отклонение попадает в очередь: приоритет, ответственный, срок реакции.
                    Предлагается действие по регламенту (перераспределить технику/смену/маршрут).</p>
                </div>
              </div>
              <div class="x-step">
                <div class="x-step__num">3</div>
                <div>
                  <h3 class="x-step__title">Решение и контроль</h3>
                  <p class="x-step__text">Ответственный подтверждает действие, система отслеживает выполнение: изменение
                    плана, статус задачи, устранение причины отставания.</p>
                </div>
              </div>
              <div class="x-step">
                <div class="x-step__num">4</div>
                <div>
                  <h3 class="x-step__title">Итог и доказательство</h3>
                  <p class="x-step__text">Результат фиксируется в KPI и журнале: что изменили, кто утвердил, что
                    получилось. При необходимости формируется отчёт по смене/кластеру.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Panel 2 -->
        <div class="x-scen-panel" id="scen-panel-2">
          <div class="x-scen-panel__inner">
            <div class="x-stepper-line"></div>
            <div class="x-stepper">
              <div class="x-step">
                <div class="x-step__num">1</div>
                <div>
                  <h3 class="x-step__title">Сигнал риска</h3>
                  <p class="x-step__text">Телематика/датчик фиксирует аномалию: перегрев, давление, уход с траектории,
                    нарушение режима или геозоны.</p>
                </div>
              </div>
              <div class="x-step">
                <div class="x-step__num">2</div>
                <div>
                  <h3 class="x-step__title">Алерт и назначение</h3>
                  <p class="x-step__text">Система создаёт алерт, задаёт приоритет и назначает ответственного
                    (инженер/механик/диспетчер) со сроком реакции. Подсказывает безопасный сценарий (остановка/перевод в
                    режим/проверка).</p>
                </div>
              </div>
              <div class="x-step">
                <div class="x-step__num">3</div>
                <div>
                  <h3 class="x-step__title">Действие и проверка</h3>
                  <p class="x-step__text">Ответственный подтверждает действие, система контролирует статус техники и
                    результат: риск устранён/техника остановлена/задача переназначена.</p>
                </div>
              </div>
              <div class="x-step">
                <div class="x-step__num">4</div>
                <div>
                  <h3 class="x-step__title">Разбор и журнал</h3>
                  <p class="x-step__text">В журнал попадает цепочка: что случилось → кто вмешался → какое действие
                    выполнено → чем закрыто. Это основа для разборов и профилактики.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Panel 3 -->
        <div class="x-scen-panel" id="scen-panel-3">
          <div class="x-scen-panel__inner">
            <div class="x-stepper-line"></div>
            <div class="x-stepper">
              <div class="x-step">
                <div class="x-step__num">1</div>
                <div>
                  <h3 class="x-step__title">Узкое место</h3>
                  <p class="x-step__text">Система фиксирует простой или “бутылочное горлышко”: ожидание на
                    разгрузке/подвозе, конфликт маршрутов, задержка прибытия.</p>
                </div>
              </div>
              <div class="x-step">
                <div class="x-step__num">2</div>
                <div>
                  <h3 class="x-step__title">Отклонение в приоритете</h3>
                  <p class="x-step__text">Отклонение ставится в очередь с приоритетом и ответственным. Система
                    предлагает корректировку: переназначить ресурс, перестроить маршрут, изменить порядок задач.</p>
                </div>
              </div>
              <div class="x-step">
                <div class="x-step__num">3</div>
                <div>
                  <h3 class="x-step__title">Перепланирование и контроль</h3>
                  <p class="x-step__text">После подтверждения система обновляет назначения и маршруты, отслеживает
                    сокращение ожидания и восстановление темпа работ.</p>
                </div>
              </div>
              <div class="x-step">
                <div class="x-step__num">4</div>
                <div>
                  <h3 class="x-step__title">KPI и отчёт по простоям</h3>
                  <p class="x-step__text">Изменения отражаются в KPI (время ожидания/простой/оборачиваемость). В отчёте
                    видно: причина, решение, эффект.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Panel 4 -->
        <div class="x-scen-panel" id="scen-panel-4">
          <div class="x-scen-panel__inner">
            <div class="x-stepper-line"></div>
            <div class="x-stepper">
              <div class="x-step">
                <div class="x-step__num">1</div>
                <div>
                  <h3 class="x-step__title">Риск в документах</h3>
                  <p class="x-step__text">Система фиксирует ошибку или неполноту: не хватает данных, неверный статус,
                    несоответствие регламенту, риск отказа/возврата.</p>
                </div>
              </div>
              <div class="x-step">
                <div class="x-step__num">2</div>
                <div>
                  <h3 class="x-step__title">Задача на исправление</h3>
                  <p class="x-step__text">Ошибка попадает в очередь с ответственным и сроком. Валидатор подсказывает,
                    что именно нужно исправить и какие данные подтянуть из контуров.</p>
                </div>
              </div>
              <div class="x-step">
                <div class="x-step__num">3</div>
                <div>
                  <h3 class="x-step__title">Исправление и подтверждение</h3>
                  <p class="x-step__text">Ответственный вносит правку/подтверждает, система проверяет условия и
                    фиксирует действие в журнале.</p>
                </div>
              </div>
              <div class="x-step">
                <div class="x-step__num">4</div>
                <div>
                  <h3 class="x-step__title">Документ готов и проверяем</h3>
                  <p class="x-step__text">Документ получает корректный статус, сохраняется трассировка
                    “кто-что-когда-почему”. По запросу формируется выгрузка/отчёт.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div style="text-align:center;margin-top:var(--x-sp-8)">
        <a class="x-btn x-btn--primary x-btn--demo" href="#x-request-demo">Запросить демо по сценарию</a>
      </div>
    </div>
    <script>
      (function () {
        var btns = document.querySelectorAll('.x-scen-btn');
        var panels = document.querySelectorAll('.x-scen-panel');

        btns.forEach(function (btn) {
          btn.addEventListener('click', function () {
            // Remove active classes
            btns.forEach(function (b) { b.classList.remove('x-scen-btn--active'); });
            panels.forEach(function (p) {
              p.classList.remove('x-scen-panel--active');
            });

            // Set current active
            btn.classList.add('x-scen-btn--active');
            var scen = btn.getAttribute('data-scen');
            var panel = document.getElementById('scen-panel-' + scen);

            // Re-trigger reflow to restart CSS animations
            if (panel) {
              void panel.offsetWidth;
              panel.classList.add('x-scen-panel--active');
            }
          });
        });
      })();
    </script>
  </section>
  <!-- S6: ИНТЕГРАЦИИ -->
  <section class="x-section" id="x-integrations">
    <style>
      .x-int-modes {
        display: grid;
        grid-template-columns: 1fr;
        gap: var(--x-sp-5);
        margin-bottom: var(--x-sp-8);
      }

      @media(min-width: 768px) {
        .x-int-modes {
          grid-template-columns: repeat(3, 1fr);
        }
      }

      .x-int-mode {
        background: rgba(19, 27, 46, 0.4);
        border: 1px dashed var(--x-line);
        border-radius: var(--x-r-3);
        padding: var(--x-sp-5);
        position: relative;
        overflow: hidden;
      }

      .x-int-mode::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 2px;
        background: var(--x-line);
        transition: background 0.3s;
      }

      .x-int-mode:hover::before {
        background: var(--x-accent);
        box-shadow: 0 0 10px var(--x-accent);
      }

      .x-int-mode__title {
        color: var(--x-text);
        font-family: var(--x-ff-head);
        font-weight: 700;
        font-size: var(--x-fs-5);
        margin-bottom: var(--x-sp-2);
        display: flex;
        align-items: center;
        gap: var(--x-sp-3);
      }

      .x-int-mode__num {
        color: var(--x-accent);
        font-family: var(--x-ff-mono);
        font-size: var(--x-fs-6);
        background: rgba(0, 229, 255, 0.1);
        padding: 4px 8px;
        border-radius: var(--x-r-1);
      }

      .x-int-mode__text {
        color: var(--x-muted);
        font-size: var(--x-fs-6);
        line-height: 1.5;
      }
    </style>
    <div class="x-wrap">
      <div class="x-section__head">
        <p class="x-section__label">Интеграции</p>
        <h2 class="x-h2">Подключаемся поверх — не заменяем</h2>
        <p class="x-lead">Работаем с тем, что уже есть: ERP/1С, телематика, датчики, BI. Начинаем безопасно — с
          наблюдаемости (read-only), затем расширяем контур по регламенту.</p>
      </div>

      <h3 class="x-h3" style="margin-bottom:var(--x-sp-5)">Режимы подключения</h3>
      <div class="x-int-modes">
        <div class="x-int-mode">
          <h4 class="x-int-mode__title"><span class="x-int-mode__num">1</span> Read-only (наблюдаемость)</h4>
          <p class="x-int-mode__text">Читаем данные, строим KPI, алерты и карту. Ничего не “пишем назад”.</p>
        </div>
        <div class="x-int-mode">
          <h4 class="x-int-mode__title"><span class="x-int-mode__num">2</span> Синхронизация (контролируемая)</h4>
          <p class="x-int-mode__text">Согласованные справочники и статусы операций: техника, поля, задания, факт
            выполнения.</p>
        </div>
        <div class="x-int-mode">
          <h4 class="x-int-mode__title"><span class="x-int-mode__num">3</span> Обратная запись (по регламенту)</h4>
          <p class="x-int-mode__text">Только разрешённые объекты: статусы, задания, документы/события. С ролями и
            аудитом.</p>
        </div>
      </div>

      <h3 class="x-h3" style="margin-bottom:var(--x-sp-5); margin-top:var(--x-sp-8)">Что подключаем</h3>
      <div class="x-cards" style="grid-template-columns:repeat(auto-fit,minmax(220px,1fr))">
        <div class="x-card">
          <h3 class="x-card__title">ERP / 1С</h3>
          <p class="x-card__text">Справочники, планы/задания, статусы операций, документы — по согласованному списку.
          </p>
        </div>
        <div class="x-card">
          <h3 class="x-card__title">Телематика</h3>
          <p class="x-card__text">GPS, режимы, моточасы, топливо, CAN-события и аномалии.</p>
        </div>
        <div class="x-card">
          <h3 class="x-card__title">Датчики IoT</h3>
          <p class="x-card__text">Температура, влажность, уровни, давление — показатели и события отклонений.</p>
        </div>
        <div class="x-card">
          <h3 class="x-card__title">BI / отчётность</h3>
          <p class="x-card__text">Экспорт KPI и событий в Power BI / Tableau и ваши витрины.</p>
        </div>
        <div class="x-card">
          <h3 class="x-card__title">API для интеграций</h3>
          <p class="x-card__text">Документированный API для ваших систем и подрядчиков (с авторизацией и аудитом).</p>
        </div>
      </div>

      <style>
        .x-stepper-list {
          margin-top: var(--x-sp-7);
          margin-bottom: var(--x-sp-7);
        }

        .x-stepper-item {
          display: flex;
          align-items: flex-start;
          gap: var(--x-sp-4);
          background: rgba(19, 27, 46, 0.4);
          border: 1px dashed var(--x-line);
          border-radius: var(--x-r-3);
          padding: var(--x-sp-5);
          margin-bottom: var(--x-sp-4);
          position: relative;
          transition: border-color 0.3s, background 0.3s;
        }

        .x-stepper-item:hover {
          border-color: rgba(0, 229, 255, 0.4);
          background: rgba(19, 27, 46, 0.6);
        }

        .x-stepper-item__num {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 48px;
          height: 48px;
          flex-shrink: 0;
          border-radius: 50%;
          background: rgba(0, 229, 255, 0.1);
          color: var(--x-accent);
          font-family: var(--x-ff-mono);
          font-weight: 700;
          font-size: var(--x-fs-4);
          border: 1px solid rgba(0, 229, 255, 0.3);
          box-shadow: 0 0 15px rgba(0, 229, 255, 0.1);
        }

        .x-stepper-item__content h4 {
          color: var(--x-text);
          font-family: var(--x-ff-head);
          font-weight: 700;
          font-size: var(--x-fs-5);
          margin-bottom: 4px;
        }

        .x-stepper-item__time {
          color: var(--x-accent);
          font-family: var(--x-ff-mono);
          font-size: var(--x-fs-7);
          margin-bottom: var(--x-sp-2);
          display: inline-block;
          background: rgba(0, 229, 255, 0.05);
          padding: 2px 8px;
          border-radius: 4px;
        }

        .x-stepper-item__text {
          color: var(--x-muted);
          font-size: var(--x-fs-6);
          line-height: 1.5;
        }
      </style>

      <h3 class="x-h3" style="margin-bottom:var(--x-sp-5); margin-top:var(--x-sp-8)">Подключение в 3 шага</h3>
      <div class="x-stepper-list">
        <div class="x-stepper-item">
          <div class="x-stepper-item__num">1</div>
          <div class="x-stepper-item__content">
            <h4>Диагностика контура</h4>
            <span class="x-stepper-item__time">30–60 минут</span>
            <p class="x-stepper-item__text">Источники данных, “источник истины”, KPI и события, роли и ограничения.</p>
          </div>
        </div>
        <div class="x-stepper-item">
          <div class="x-stepper-item__num">2</div>
          <div class="x-stepper-item__content">
            <h4>Подключение источников</h4>
            <span class="x-stepper-item__time">1–2 недели</span>
            <p class="x-stepper-item__text">ERP/1С + телематика/датчики/BI в режиме read-only.</p>
          </div>
        </div>
        <div class="x-stepper-item">
          <div class="x-stepper-item__num">3</div>
          <div class="x-stepper-item__content">
            <h4>Настройка правил и артефактов</h4>
            <span class="x-stepper-item__time">1–2 недели</span>
            <p class="x-stepper-item__text">Алерты, роли, аудит, отчёты; при необходимости — согласованная обратная
              запись.</p>
          </div>
        </div>
      </div>
      <div class="x-calc-wrap" id="int-calc">
        <div class="x-calc-head">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
          </svg>
          <h3 class="x-h3" style="margin:0;">Экспресс-проверка готовности</h3>
        </div>

        <div class="x-calc-grid">
          <div class="x-calc-form" id="int-form">
            <p class="x-card__text" style="margin-bottom:var(--x-sp-3)">Отметьте, что актуально для вас:</p>

            <label class="x-calc-check">
              <input type="checkbox" name="ERP" />
              <span>Используем ERP/1С</span>
            </label>
            <label class="x-calc-check">
              <input type="checkbox" name="TEL" />
              <span>Есть телематика на технике</span>
            </label>
            <label class="x-calc-check">
              <input type="checkbox" name="IOT" />
              <span>Нужен мониторинг датчиков (IoT)</span>
            </label>
            <label class="x-calc-check">
              <input type="checkbox" name="KPI" />
              <span>Хотим видеть план-факт и KPI в реальном времени</span>
            </label>
            <label class="x-calc-check">
              <input type="checkbox" name="DOC" />
              <span>Нужны документы/отчётность (включая «Меркурий», если актуально)</span>
            </label>
            <label class="x-calc-check">
              <input type="checkbox" name="SEC" />
              <span>Есть требования ИБ (роли/аудит/шифрование)</span>
            </label>
            <label class="x-calc-check">
              <input type="checkbox" name="WB" />
              <span>Нужно “писать назад” в ERP/1С (статусы/документы по регламенту)</span>
            </label>
          </div>

          <div class="x-calc-out" id="int-result">
            <!-- Populated by JS -->
          </div>
        </div>
      </div>

      <div style="text-align:center;margin-top:var(--x-sp-6)">
        <a class="x-btn x-btn--secondary x-doc-link" data-doc="integration" href="javascript:void(0)">Скачать
          Integration Checklist</a>
      </div>
    </div>

    <style>
      .x-calc-wrap {
        background: rgba(19, 27, 46, 0.5);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(0, 229, 255, 0.15);
        border-radius: 16px;
        padding: var(--x-sp-6);
        margin-top: var(--x-sp-8);
      }

      .x-calc-head {
        display: flex;
        align-items: center;
        gap: var(--x-sp-3);
        margin-bottom: var(--x-sp-5);
        border-bottom: 1px solid var(--x-line);
        padding-bottom: var(--x-sp-4);
      }

      .x-calc-head svg {
        color: var(--x-accent);
      }

      .x-calc-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: var(--x-sp-6);
      }

      @media(min-width: 992px) {
        .x-calc-grid {
          grid-template-columns: 1fr 1fr;
        }
      }

      .x-calc-form {
        display: flex;
        flex-direction: column;
        gap: var(--x-sp-3);
      }

      .x-calc-check {
        display: flex;
        align-items: center;
        gap: var(--x-sp-3);
        cursor: pointer;
        padding: var(--x-sp-3);
        border: 1px dashed var(--x-line);
        border-radius: var(--x-r-2);
        transition: all 0.2s;
        background: rgba(19, 27, 46, 0.2);
      }

      .x-calc-check:hover {
        border-color: rgba(0, 229, 255, 0.4);
        background: rgba(0, 229, 255, 0.05);
      }

      .x-calc-check input {
        appearance: none;
        width: 20px;
        height: 20px;
        border: 2px solid var(--x-muted);
        border-radius: 4px;
        position: relative;
        cursor: pointer;
        outline: none;
        transition: all 0.2s;
        flex-shrink: 0;
      }

      .x-calc-check input:checked {
        border-color: var(--x-accent);
        background-color: var(--x-accent);
        box-shadow: 0 0 10px rgba(0, 229, 255, 0.4);
      }

      .x-calc-check input:checked::after {
        content: '';
        position: absolute;
        top: 2px;
        left: 6px;
        width: 4px;
        height: 10px;
        border: solid var(--x-bg);
        border-width: 0 2px 2px 0;
        transform: rotate(45deg);
      }

      .x-calc-check span {
        color: var(--x-text);
        font-size: var(--x-fs-6);
        line-height: 1.3;
      }

      .x-calc-out {
        background: #0f1625;
        border: 1px dashed var(--x-line);
        border-radius: var(--x-r-3);
        padding: var(--x-sp-5);
        display: flex;
        flex-direction: column;
        gap: var(--x-sp-4);
      }

      .x-calc-out__level {
        display: inline-flex;
        align-items: center;
        gap: var(--x-sp-2);
        font-family: var(--x-ff-mono);
        color: var(--x-accent);
        font-size: var(--x-fs-5);
        font-weight: 700;
        padding: var(--x-sp-2) var(--x-sp-3);
        background: rgba(0, 229, 255, 0.1);
        border-radius: var(--x-r-1);
        border-left: 3px solid var(--x-accent);
        align-self: flex-start;
      }

      .x-calc-out__metrics {
        display: flex;
        gap: var(--x-sp-4);
        flex-wrap: wrap;
      }

      .x-calc-metric {
        background: rgba(19, 27, 46, 0.4);
        padding: var(--x-sp-2) var(--x-sp-3);
        border-radius: var(--x-r-2);
        font-size: var(--x-fs-7);
        color: var(--x-muted);
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .x-calc-metric span {
        color: var(--x-text);
        font-weight: 600;
        font-family: var(--x-ff-mono);
      }

      .x-calc-out__title {
        color: #fff;
        font-family: var(--x-ff-head);
        font-size: var(--x-fs-4);
        font-weight: 700;
        margin-top: var(--x-sp-2);
        margin-bottom: var(--x-sp-2);
      }

      .x-calc-out__desc ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .x-calc-out__desc li {
        color: var(--x-text);
        font-size: 0.95rem;
        margin-bottom: 8px;
        display: flex;
        align-items: flex-start;
        gap: 8px;
        line-height: 1.4;
      }

      .x-calc-out__desc li::before {
        content: '▹';
        color: var(--x-accent);
        font-weight: bold;
      }
    </style>

    <script>
      (function () {
        const form = document.getElementById('int-form');
        const out = document.getElementById('int-result');
        if (!form || !out) return;

        const templates = {
          'A0': {
            level: 'A0',
            title: 'Точка отсчёта',
            recommend: 'начните с A0 (снимок готовности).',
            get: 'инвентаризацию контуров данных, ролей и требований.',
            time: '1 неделя (снимок готовности)',
            next: 'перейти к A1/A2 по чек-листу.'
          },
          'A1': {
            level: 'A1',
            title: 'Подготовка данных и дисциплины',
            recommend: 'начните с A1 (база данных и дисциплины).',
            get: 'стабильные исходные данные и основу для управляемого контура.',
            time: '1–3 недели',
            next: 'подключение A2.'
          },
          'A2': {
            level: 'A2',
            title: 'Наблюдаемость (командный центр)',
            recommend: 'начните с A2 (наблюдаемость).',
            get: 'план-факт, KPI, карта, очередь отклонений.',
            time: '2–4 недели (1 площадка, 1–2 источника, read-only)',
            next: 'A3 по готовности регламентов и ролей.'
          },
          'A3': {
            level: 'A3',
            title: 'Рекомендации и контроль решений',
            recommend: 'вам подходит A3 (рекомендации + контроль).',
            get: 'приоритизация действий, регламенты реакции, проверяемость решений.',
            time: '4–6 недель (роли/аудит/правила)',
            next: 'A4 при необходимости автоматизации по регламенту.'
          },
          'A4': {
            level: 'A4',
            title: 'Оркестрация (по регламенту)',
            recommend: 'цель — A4 (оркестрация), начните с A2/A3 как этапа.',
            get: 'автоматическое исполнение в рамках регламента + аудит + документы.',
            time: 'по техсессии (зависит от масштаба, ИБ и обратной записи)',
            next: 'согласование обратной записи, ИБ и комплаенса.'
          }
        };

        function updateCalc() {
          const checks = Array.from(form.querySelectorAll('input[type="checkbox"]'));
          const state = {};
          let selectedCount = 0;
          let sourceCount = 0; // ERP, TEL, IOT

          checks.forEach(cb => {
            state[cb.name] = cb.checked;
            if (cb.checked) selectedCount++;
            if (cb.checked && ['ERP', 'TEL', 'IOT'].includes(cb.name)) sourceCount++;
          });

          const { ERP, TEL, IOT, KPI, DOC, SEC, WB } = state;

          let resLvl = 'A0';
          if (WB) {
            resLvl = 'A4';
          } else if (DOC && (SEC || KPI)) {
            resLvl = 'A3';
          } else if (KPI && (ERP || TEL || IOT)) {
            resLvl = 'A2';
          } else if (ERP || TEL || IOT) {
            resLvl = 'A1';
          }

          let complexity = '—';
          if (selectedCount > 0) {
            if (WB || selectedCount >= 5) {
              complexity = 'Сложная';
            } else if (selectedCount >= 3) {
              complexity = 'Средняя';
            } else {
              complexity = 'Лёгкая';
            }
          }

          const tpl = templates[resLvl];

          out.innerHTML = `
            <div class="x-calc-out__level">[Уровень ${tpl.level}]</div>
            <h4 class="x-calc-out__title">${tpl.title}</h4>
            
            <div class="x-calc-out__metrics">
              <div class="x-calc-metric">Сложность: <span style="color:var(--x-text);">${complexity}</span></div>
              <div class="x-calc-metric">Срок: <span style="color:var(--x-accent);">${tpl.time}</span></div>
            </div>

            <div class="x-calc-out__desc">
              <ul>
                <li><strong>Рекомендация:</strong> ${tpl.recommend}</li>
                <li><strong>Что получите:</strong> ${tpl.get}</li>
                <li><strong>Дальше:</strong> ${tpl.next}</li>
              </ul>
            </div>
          `;
        }

        form.addEventListener('change', updateCalc);
        updateCalc();
      })();
    </script>
  </section><!-- S7: КОМПЛАЕНС -->
  <section class="x-section" id="x-compliance">
    <div class="x-wrap">
      <div class="x-section__head">
        <p class="x-section__label">Комплаенс</p>
        <h2 class="x-h2">Регуляторные требования — часть процесса, а не отдельная задача</h2>
        <p class="x-lead">Автоматическая фиксация в журнале, поддержка Меркурий, готовые отчёты для проверок.</p>
      </div>
      <ul class="x-hero__bullets" style="margin-bottom:var(--x-sp-6)">
        <li>Журнал действий (audit trail) — кто, что, когда, почему</li>
        <li>Поддержка системы Меркурий для ветеринарного контроля</li>
        <li>Автоматическая генерация отчётов по требованию регуляторов</li>
        <li>Ролевой доступ к данным и документам</li>
      </ul>
      <a class="x-btn x-btn--secondary x-doc-link" data-doc="compliance" href="javascript:void(0)">Скачать Compliance
        Brief</a>
    </div>
  </section>
  <!-- S8: БЕЗОПАСНОСТЬ + ИБ -->
  <section class="x-section" id="x-security">
    <div class="x-wrap">
      <div class="x-section__head">
        <p class="x-section__label">Безопасность</p>
        <h2 class="x-h2">Безопасность и ИБ — встроены, а не добавлены потом</h2>
      </div>
      <div class="x-cards" style="grid-template-columns:repeat(auto-fit,minmax(240px,1fr))">
        <div class="x-card">
          <h3 class="x-card__title">Шифрование</h3>
          <p class="x-card__text">Данные в покое и в транзите. TLS 1.3, AES-256.</p>
        </div>
        <div class="x-card">
          <h3 class="x-card__title">Ролевой доступ</h3>
          <p class="x-card__text">RBAC + журнал. Кто к чему имеет доступ — прозрачно.</p>
        </div>
        <div class="x-card">
          <h3 class="x-card__title">Audit Trail</h3>
          <p class="x-card__text">Неизменяемый журнал всех операций и изменений.</p>
        </div>
      </div>
      <div style="text-align:center;margin-top:var(--x-sp-6)">
        <button class="x-btn x-btn--primary" id="x-open-trust">Открыть Trust Pack</button>
      </div>
    </div>
  </section>
  <!-- S9: ПИЛОТ -->
  <section class="x-section" id="x-pilot">
    <div class="x-wrap">
      <div class="x-section__head">
        <p class="x-section__label">Пилот</p>
        <h2 class="x-h2">Пилот за 6-8 недель — с метриками, приёмкой и артефактами</h2>
      </div>
      <div class="x-cards">
        <div class="x-card">
          <h3 class="x-card__title">Критерии приёмки</h3>
          <p class="x-card__text">Определяем KPI, пороги и метрики до старта пилота.</p>
        </div>
        <div class="x-card">
          <h3 class="x-card__title">Измерение результата</h3>
          <p class="x-card__text">Автоматический сбор данных. Дашборд пилота в реальном времени.</p>
        </div>
        <div class="x-card">
          <h3 class="x-card__title">Выходные артефакты</h3>
          <p class="x-card__text">Отчёт по пилоту, рекомендации по масштабированию, ROI-модель.</p>
        </div>
      </div>
      <div style="text-align:center;margin-top:var(--x-sp-6)">
        <a class="x-btn x-btn--secondary x-doc-link" data-doc="pilot-blueprint" href="javascript:void(0)">Скачать Pilot
          Blueprint</a>
      </div>
    </div>
  </section>
  <!-- S10: PROCUREMENT PACK -->
  <section class="x-section" id="x-procurement">
    <div class="x-wrap">
      <div class="x-section__head">
        <p class="x-section__label">Для закупки</p>
        <h2 class="x-h2">Документы для закупки — собраны и готовы</h2>
      </div>
      <div class="x-cards" style="grid-template-columns:repeat(auto-fit,minmax(220px,1fr))">
        <div class="x-card">
          <h3 class="x-card__title">One-Pager</h3>
          <p class="x-card__text">Краткое описание продукта для ЛПР.</p>
        </div>
        <div class="x-card">
          <h3 class="x-card__title">Pilot Blueprint</h3>
          <p class="x-card__text">План пилота с критериями приёмки.</p>
        </div>
        <div class="x-card">
          <h3 class="x-card__title">Architecture Brief</h3>
          <p class="x-card__text">Архитектурная схема для IT-блока.</p>
        </div>
        <div class="x-card">
          <h3 class="x-card__title">Security Brief</h3>
          <p class="x-card__text">Описание мер ИБ для службы безопасности.</p>
        </div>
        <div class="x-card">
          <h3 class="x-card__title">Compliance Brief</h3>
          <p class="x-card__text">Регуляторное соответствие для юристов.</p>
        </div>
      </div>
      <div style="text-align:center;margin-top:var(--x-sp-6)">
        <button class="x-btn x-btn--primary" id="x-open-procurement">Получить Procurement Pack</button>
      </div>
    </div>
  </section>
  <!-- S11: ФИНАЛЬНЫЙ CTA -->
  <section class="x-form-cta" id="x-request-demo">
    <div class="x-wrap">
      <p class="x-section__label" style="text-align:center">Следующий шаг</p>
      <h2 class="x-h2" style="text-align:center">Готовы увидеть контур управления в действии?</h2>
      <div style="display:flex;gap:var(--x-sp-4);justify-content:center;flex-wrap:wrap">
        <a class="x-btn x-btn--primary x-btn--demo" href="#x-request-demo">Запросить демо / техсессию</a>
        <button class="x-btn x-btn--secondary" id="x-open-drawer-2">Получить пакет документов</button>
      </div>
      <div class="x-form-cta__steps">
        <div class="x-form-cta__step"><strong>01</strong> Оставляете заявку</div>
        <div class="x-form-cta__step"><strong>02</strong> Согласуем формат</div>
        <div class="x-form-cta__step"><strong>03</strong> Получаете результат за 30 мин</div>
      </div>
      <p style="text-align:center;margin-top:var(--x-sp-4);font-size:var(--x-fs-6);color:var(--x-muted)">Без
        обязательств · NDA при необходимости · Ваши данные не передаются третьим лицам</p>
    </div>
  </section>
  <!-- S12: КОНТАКТЫ -->
  <section class="x-contacts" id="recCONTACTS">
    <div class="x-wrap">
      <p class="x-section__label" style="text-align:center">Контакты</p>
      <h2 class="x-h2" style="text-align:center">Свяжитесь с нами</h2>
      <div class="x-contacts__row">
        <div class="x-contacts__item">info@agrotaktik.ru</div>
        <div class="x-contacts__item">+7 (XXX) XXX-XX-XX</div>
        <div class="x-contacts__item">Москва, Россия</div>
      </div>
    </div>
  </section>
  <!-- DRAWER -->
  <div aria-label="Пакет документов" aria-modal="true" class="x-drawer" id="x-drawer" role="dialog">
    <div class="x-drawer__overlay" id="x-drawer-overlay"></div>
    <div class="x-drawer__panel">
      <button aria-label="Закрыть" class="x-drawer__close" id="x-drawer-close">✕</button>
      <h3 class="x-drawer__title">Пакет документов</h3>
      <p style="font-size:var(--x-fs-5);color:var(--x-muted);margin-bottom:var(--x-sp-5)">Скачайте нужные документы
        для внутреннего согласования. NDA — по запросу.</p>
      <ul class="x-drawer__docs">
        <li class="x-drawer__doc" data-doc="onepager"><span class="x-drawer__doc-icon">📄</span>
          <div>
            <div class="x-drawer__doc-name">One-Pager</div>
            <div class="x-drawer__doc-desc">Для ЛПР: что покупаете и какой эффект (1–2 стр.)</div>
          </div><a class="x-btn x-btn--tertiary" href="#" style="margin-left:auto">Скачать</a>
        </li>
        <li class="x-drawer__doc" data-doc="pilot-blueprint"><span class="x-drawer__doc-icon">📐</span>
          <div>
            <div class="x-drawer__doc-name">Pilot Blueprint</div>
            <div class="x-drawer__doc-desc">Пилот 6–8 недель: KPI, приёмка, артефакты</div>
          </div><a class="x-btn x-btn--tertiary" href="#" style="margin-left:auto">Скачать</a>
        </li>
        <li class="x-drawer__doc" data-doc="architecture"><span class="x-drawer__doc-icon">🏗</span>
          <div>
            <div class="x-drawer__doc-name">Architecture Brief</div>
            <div class="x-drawer__doc-desc">Контуры данных, интеграции, требования</div>
          </div><a class="x-btn x-btn--tertiary" href="#" style="margin-left:auto">Скачать</a>
        </li>
        <li class="x-drawer__doc" data-doc="security"><span class="x-drawer__doc-icon">🔒</span>
          <div>
            <div class="x-drawer__doc-name">Security Brief</div>
            <div class="x-drawer__doc-desc">RBAC/MFA, аудит действий, контуры доступа</div>
          </div><a class="x-btn x-btn--tertiary" href="#" style="margin-left:auto">Скачать</a>
        </li>
        <li class="x-drawer__doc" data-doc="compliance"><span class="x-drawer__doc-icon">📋</span>
          <div>
            <div class="x-drawer__doc-name">Compliance Brief</div>
            <div class="x-drawer__doc-desc">Комплаенс: трассировка и отчётность (вкл. «Меркурий»)</div>
          </div><a class="x-btn x-btn--tertiary" href="#" style="margin-left:auto">Скачать</a>
        </li>
      </ul>
      <div style="margin-top:var(--x-sp-6);display:flex;gap:var(--x-sp-4);flex-wrap:wrap">
        <a class="x-btn x-btn--primary x-btn--demo" href="#x-request-demo">Запросить демо</a>
        <button class="x-btn x-btn--secondary" id="x-drawer-close-2">Закрыть</button>
      </div>
    </div>
  </div>
</div><!-- /.x-site -->
<script>
  (function () {
    'use strict';

    /* === STICKY HEADER === */
    var header = document.getElementById('x-header');
    if (header) {
      var ticking = false;
      window.addEventListener('scroll', function () {
        if (!ticking) {
          window.requestAnimationFrame(function () {
            header.classList.toggle('x-header--sticky', window.scrollY > 140);
            ticking = false;
          });
          ticking = true;
        }
      });
    }

    /* === BURGER MENU === */
    var burger = document.getElementById('x-burger');
    if (burger) {
      burger.addEventListener('click', function () {
        header.classList.toggle('x-header--menu-open');
        burger.innerHTML = header.classList.contains('x-header--menu-open') ? '&#10005;' : '&#9776;';
      });
    }

    /* === HERO ROLE TABS === */
    document.querySelectorAll('.x-site .x-tab').forEach(function (tab) {
      tab.addEventListener('click', function () {
        document.querySelectorAll('.x-site .x-tab').forEach(function (t) {
          t.classList.remove('x-tab--active');
          t.setAttribute('aria-selected', 'false');
        });
        tab.classList.add('x-tab--active');
        tab.setAttribute('aria-selected', 'true');
        document.querySelectorAll('.x-site .x-tab-panel').forEach(function (p) {
          p.classList.remove('x-tab-panel--active');
        });
        var panelK = tab.getAttribute('data-panel');
        var tgt = document.getElementById('panel-' + panelK);
        if (tgt) tgt.classList.add('x-tab-panel--active');
        if (window.renderHotspots) window.renderHotspots(panelK);
      });
    });

    /* === AUTONOMY SWITCHER === */
    var autoBtns = document.querySelectorAll('.x-site .x-auto-btn');
    var autoPanels = document.querySelectorAll('.x-site .x-auto-panel');
    var autoProgress = document.getElementById('x-auto-progress');

    autoBtns.forEach(function (btn, index) {
      btn.addEventListener('click', function () {
        autoBtns.forEach(function (b) { b.classList.remove('x-auto-btn--active'); });
        autoPanels.forEach(function (p) { p.classList.remove('x-auto-panel--active'); });

        btn.classList.add('x-auto-btn--active');
        var level = btn.getAttribute('data-level');
        var panel = document.getElementById('auto-panel-' + level);
        if (panel) panel.classList.add('x-auto-panel--active');
      });
    });

    /* === ACCORDION === */
    document.querySelectorAll('.x-site .x-acc-item__head').forEach(function (b) {
      b.addEventListener('click', function () {
        b.parentElement.classList.toggle('x-acc-item--open');
      });
    });

    /* === DRAWER === */
    var drawer = document.getElementById('x-drawer');
    function openDrawer() {
      drawer.classList.add('x-drawer--open');
      document.documentElement.style.overflow = 'hidden';
      document.getElementById('x-drawer-close').focus();
    }
    function closeDrawer() {
      drawer.classList.remove('x-drawer--open');
      document.documentElement.style.overflow = '';
    }
    ['x-open-drawer', 'x-open-drawer-2', 'x-open-drawer-3', 'x-open-trust', 'x-open-procurement'].forEach(function (id) {
      var el = document.getElementById(id);
      if (el) el.addEventListener('click', openDrawer);
    });
    document.getElementById('x-drawer-overlay').addEventListener('click', closeDrawer);
    ['x-drawer-close', 'x-drawer-close-2'].forEach(function (id) {
      var el = document.getElementById(id);
      if (el) el.addEventListener('click', closeDrawer);
    });
    document.querySelectorAll('.x-site .x-badge').forEach(function (b) {
      b.addEventListener('click', openDrawer);
    });
    document.addEventListener('keydown', function (e) {
      if (e.key === 'Escape' && drawer.classList.contains('x-drawer--open')) closeDrawer();
    });

    /* === DOC-LINK placeholders → open drawer === */
    document.querySelectorAll('.x-site .x-doc-link').forEach(function (link) {
      link.addEventListener('click', function (e) {
        e.preventDefault();
        openDrawer();
      });
    });

    /* === DYNAMIC HOTSPOTS DATA & LOGIC === */
    var HOTSPOT_DATA = {
      coo: [
        { key: "KPI", text: "План-факт и KPI по подразделениям/кластерам в одном экране." },
        { key: "Exceptions", text: "Очередь отклонений: приоритет → ответственный → срок реакции → статус." },
        { key: "Economics", text: "Экономический эффект по сценариям: простои, логистика, дисциплина процессов, ошибки." },
        { key: "Pilot Status", text: "Пилот 6–8 недель: метрики, критерии приёмки, текущий прогресс, артефакты." },
        { key: "Board Pack", text: "Готовые материалы для комитета: KPI, риски, план внедрения, решения по следующему шагу." }
      ],
      it: [
        { key: "Integrations", text: "ERP/1С, телематика, BI, API: подключение поверх существующего контура без замены." },
        { key: "Access", text: "Роли и права, минимальные привилегии, SSO/MFA (если есть) — управляемый доступ." },
        { key: "Audit Trail", text: "Кто-что-когда-почему: полная трассировка действий пользователей и системных событий." },
        { key: "Security Controls", text: "Шифрование, сегментация, ключи/токены, политика передачи/хранения данных." },
        { key: "Observability", text: "Мониторинг интеграций: статусы коннектекторов, ошибки обмена, SLA и алерты по данным." }
      ],
      eng: [
        { key: "Missions", text: "Задания, маршруты, статусы выполнения и контроль отклонений “по месту и времени”." },
        { key: "Safety/ODD", text: "Геозоны, ограничения применимости, безопасные режимы, сценарии деградации (fail-safe)." },
        { key: "Alerts", text: "Алерты по рискам выполнения: отклонение траектории/режима/условий → действие → закрытие." },
        { key: "Map Layers", text: "Поля, геозоны, маршруты, участки работ — слойно и прозрачно для управления." },
        { key: "Incident Review", text: "Журнал событий и решений: что произошло → кто вмешался → какое действие выполнено → результат." }
      ],
      mech: [
        { key: "Diagnostics", text: "Отклонения телематики/датчиков: ранние признаки поломки до простоя." },
        { key: "Maintenance Queue", text: "Наработка/регламент → очередь работ → назначение исполнителя → контроль выполнения." },
        { key: "Downtime", text: "Причины простоев, длительность, влияние на план-факт, ответственность и статус устранения." },
        { key: "Parts", text: "Потребность по ТО/инцидентам, критичность, сроки, история замен и причин." },
        { key: "Service Log", text: "Журнал обслуживаний по нормативам: когда/что/кем/почему, с прозрачным audit trail." }
      ],
      agro: [
        { key: "Field Plan-Fact", text: "План-факт работ в разрезе культур/полей: окна операций, отклонения, причины." },
        { key: "Ops Quality", text: "Перекрытия/пропуски/скорости/нормы внесения + карта фактического выполнения." },
        { key: "Windows", text: "Контроль “окон” и готовности ресурсов: риск срыва сроков и сценарии реагирования." },
        { key: "Map", text: "Карта полей и участков: где сделано/не сделано, где риск, где нужно вмешательство." },
        { key: "Season Risks", text: "Погодные/технологические/ресурсные риски: алерты, приоритеты, ответственные, план действий." }
      ],
      zoo: [
        { key: "Feed Logistics", text: "План-факт заготовки/доставки, очередь задач, отклонения и ответственные." },
        { key: "Feed Quality", text: "Партии/показатели/события отклонений: контроль качества и реакции." },
        { key: "Traceability", text: "Трассировка “партия → рацион → событие → результат” для разборов и контроля." },
        { key: "Farm Ops", text: "Журнал событий: кормление/перемещения/вет-события, нарушения регламентов, аудит." },
        { key: "KPI", text: "KPI по фермам/участкам: отклонения, динамика, точки риска и управленческие действия." }
      ]
    };

    window.renderHotspots = function (roleKey) {
      var container = document.getElementById('x-hotspots');
      if (!container) return;
      var data = HOTSPOT_DATA[roleKey] || [];
      container.innerHTML = '';
      data.forEach(function (item) {
        var btn = document.createElement('button');
        btn.className = 'x-hotspot';
        btn.type = 'button';
        btn.innerHTML =
          '<div class="x-hotspot__beacon"></div>' +
          '<div class="x-hotspot__callout">' +
          '<div class="x-hotspot__key">' + item.key + '</div>' +
          '<div class="x-hotspot__text">' + item.text + '</div>' +
          '</div>';
        container.appendChild(btn);
      });
    };

    var hotspotsContainer = document.getElementById('x-hotspots');
    if (hotspotsContainer) {
      function closeAllHotspots() {
        var all = hotspotsContainer.querySelectorAll('.x-hotspot.is-active');
        all.forEach(function (el) { el.classList.remove('is-active'); });
      }

      hotspotsContainer.addEventListener('click', function (e) {
        var btn = e.target.closest('.x-hotspot');
        if (!btn) return;
        var wasActive = btn.classList.contains('is-active');
        closeAllHotspots();
        if (!wasActive) btn.classList.add('is-active');
      });

      hotspotsContainer.addEventListener('mouseover', function (e) {
        if (!window.matchMedia('(hover: hover)').matches) return;
        var btn = e.target.closest('.x-hotspot');
        if (btn) {
          closeAllHotspots();
          btn.classList.add('is-active');
        }
      });

      hotspotsContainer.addEventListener('mouseout', function (e) {
        if (!window.matchMedia('(hover: hover)').matches) return;
        var btn = e.target.closest('.x-hotspot');
        if (btn) {
          btn.classList.remove('is-active');
        }
      });

      hotspotsContainer.addEventListener('focusin', function (e) {
        var btn = e.target.closest('.x-hotspot');
        if (btn) {
          closeAllHotspots();
          btn.classList.add('is-active');
        }
      });

      hotspotsContainer.addEventListener('focusout', function (e) {
        var btn = e.target.closest('.x-hotspot');
        if (btn) btn.classList.remove('is-active');
      });
    }

    document.addEventListener('click', function (e) {
      if (!e.target.closest('.x-hotspot') && hotspotsContainer) {
        var all = hotspotsContainer.querySelectorAll('.x-hotspot.is-active');
        all.forEach(function (el) { el.classList.remove('is-active'); });
      }
    });

    document.addEventListener('keydown', function (e) {
      if (e.key === 'Escape' && hotspotsContainer) {
        var all = hotspotsContainer.querySelectorAll('.x-hotspot.is-active');
        all.forEach(function (el) { el.classList.remove('is-active'); });
      }
    });

    /* Init on page load */
    var activePanelTab = document.querySelector('.x-site .x-tab--active');
    if (activePanelTab) {
      window.renderHotspots(activePanelTab.getAttribute('data-panel'));
    }

    /* === SELF-CHECK === */
    var checks = document.querySelectorAll('.x-site .x-selfcheck input');
    var res = document.getElementById('x-selfcheck-result');
    if (checks.length && res) {
      checks.forEach(function (c) {
        c.addEventListener('change', function () {
          var n = 0;
          checks.forEach(function (ch) { if (ch.checked) n++; });
          if (!n) { res.classList.remove('x-selfcheck__result--visible'); return; }
          var m = '';
          if (n <= 2) m = 'Рекомендация: начните с уровня A2 (наблюдаемость). Подключение за 2-4 недели.';
          else if (n <= 4) m = 'Рекомендация: уровень A3 (рекомендации). Пилот 6 недель.';
          else m = 'Рекомендация: полный контур A3-A4. Запросите техсессию.';
          res.textContent = m;
          res.classList.add('x-selfcheck__result--visible');
        });
      });
    }

  })();
</script>